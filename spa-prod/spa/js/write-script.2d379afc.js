"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[630],{424:(e,l,a)=>{a.r(l),a.d(l,{default:()=>X});var o=a(9835),s=a(6970),t=a(499),r=a(826),n=a(9587),i=a(6950),u=a(9120),d=a(4170),m=a(2057),c=a(8339),p=a(5531),v=a(8853),f=a(4016),b=a(5676),g=a(6928);const _={class:"home_user_header"},h={class:"comman-title"},y={class:"q-pa-md main-wrapper"},S={class:"bg-box"},U=(0,o._)("label",{for:""}," Patient Name",-1),Z={key:0,class:"q-mt-md"},V=(0,o._)("label",{for:""},"Enter Other Type",-1),q={class:"btn_input_box"},T={class:"q-mt-lg"},w=(0,o._)("label",{for:""},"Gender",-1),C={class:"q-gutter-sm"},D={class:"q-mb-md q-mt-md"},k=(0,o._)("label",{class:"q-mr-md",for:""},"Date of Service",-1),W={class:"q-mt-lg"},N=(0,o._)("label",{for:""},"Transcription",-1),H={autocorrect:"on",autocapitalize:"off",autocomplete:"off",spellcheck:"true"},Q=(0,o._)("label",{for:""}," Comment",-1),P={key:0,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},F={key:1,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},R={__name:"writeScript",setup(e){const l=(0,c.tv)(),a=(0,c.yj)(),R=((0,t.iH)(""),(0,t.iH)(!1)),E=(0,t.iH)(null),L=(0,p.b)(),x=(0,g.t)(),M=(0,b.z)(),{errors:Y,serverValidationError:A}=(0,m.Z)(),j=(0,o.Fl)((()=>L.getTsTypeList));console.log(j.value);const z=(0,t.iH)(null),B=(0,t.iH)(null),I=(0,t.iH)(null),O=(0,t.iH)(null),G=(0,t.iH)(null),J=(0,t.iH)(null),K=(0,t.iH)(""),X=(0,o.Fl)((()=>x.getUser)),$=(0,o.Fl)((()=>L.getDraftStatus));(0,o.bv)((()=>{i.Z.show({message:"Loading...",spinner:u.Z}),L.fetchTsType().finally((()=>{i.Z.hide()}))}));const ee=(0,o.Fl)((()=>"confirm-script"==l.currentRoute.value.name?M.getData:L.getData));function le(e){i.Z.show({message:"Loading...",spinner:u.Z});const l={patient_name:B.value,gender:I.value,transcription:O.value,TSType_id:z.value.value,date_of_service:E.value,comment:G.value};"Draft"===e&&(l.draft="draft"),L.saveTranscription(l,a.params.slug).then((e=>{1==e.success?(n["default"].success(e.message?e.message:"Transcription Created Successfully !"),history.go(-1),i.Z.hide()):0==e.success&&(n["default"].error(e.message),i.Z.hide())})).finally((()=>{i.Z.hide()}))}function ae(){console.log(ee.value);const e={user_id:X.value.id,hospital_id:ee.value.hospital_id,status_id:"3",patient_name:B.value,comment:G.value,gender:I.value,transcription:O.value,TSType_id:z.value.value,date_of_service:E.value};f.Z.post(f.Z.resolveApiUrl(v.PZ.CONFIRM,{id:a.params.slug}),e).then((e=>{e.success&&history.go(-2)}))}function oe(e){return e<=d.ZP.formatDate(Date.now(),"YYYY/MM/DD")}function se(){i.Z.show({message:"Loading...",spinner:u.Z});const e={name:K.value};f.Z.post("writer/add-ts-type",e).then((e=>{e.success&&(L.tsType=[],L.fetchTsType(),z.value="")})).finally((()=>{i.Z.hide()}))}function te(){E.value=null}function re(){history.go(-1)}return 1==$.value?(i.Z.show({message:"Loading...",spinner:u.Z}),f.Z.get(f.Z.resolveApiUrl(v.jU.SAVE,{id:a.params.slug})).then((e=>{console.log(e.data),1==e.success?(z.value={label:e.data[0].TSType_name??e.data[0].trascript_types.name,value:e.data[0].TSType_id??e.data[0].trascript_types.id},B.value=e.data[0].patient_name,I.value=e.data[0].gender,O.value=e.data[0].transcription,G.value=e.data[0].comment,E.value=e.data[0].date_of_service,i.Z.hide()):0==e.success&&(n["default"].error(e.message),i.Z.hide(),Y.value=e.errors)})).catch((e=>{e.response&&(Y.value=e.response.data.errors),console.log(e),i.Z.hide()})).finally((()=>{i.Z.hide()}))):"confirm-script"==l.currentRoute.value.name&&(B.value=ee.value.patient_name,I.value=ee.value.gender,O.value=ee.value.transcription,G.value=ee.value.comment,E.value=ee.value.date_of_service,j.value.forEach((e=>{e.value==ee.value.TSType_id&&(z.value=e)}))),(0,c.iS)(((e,l,a)=>{console.log("leave"),L.resetList(),M.resetList(),a()})),(e,a)=>{const n=(0,o.up)("q-input"),i=(0,o.up)("q-select"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-radio"),m=(0,o.up)("q-editor"),c=(0,o.up)("q-form"),p=(0,o.up)("q-date"),v=(0,o.up)("q-dialog"),f=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",_,[(0,o._)("h3",h,(0,s.zw)("confirm-script"!==(0,t.SU)(l).currentRoute.value.name?"Create":"Confirm")+" Transcription ",1)]),(0,o.Wm)((0,t.SU)(r.Z),{ref_key:"audioRef",ref:J,option:{src:(0,t.SU)(ee).audio_filepath,title:(0,t.SU)(ee).audio_name,coverImage:"",coverRotate:"",progressBarColor:"",indicatorColor:"",autoplay:!1}},null,8,["option"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o._)("div",S,[U,(0,o.Wm)(n,{outlined:"",modelValue:B.value,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value=e),dense:e.dense,placeholder:"Please Enter Patient Name",disable:(0,t.SU)(ee).isNew,class:"create-user-field-box",rules:[l=>e.required(l,"Patient Name")],error:(0,t.SU)(Y).length>0,"error-message":(0,t.SU)(A)((0,t.SU)(Y),"Patient Name")},null,8,["modelValue","dense","disable","rules","error","error-message"]),(0,o.Wm)(i,{modelValue:z.value,"onUpdate:modelValue":a[1]||(a[1]=e=>z.value=e),options:(0,t.SU)(j),dense:e.dense,class:"select_drop",outlined:"","hide-bottom-space":"",label:"Select Type",disable:(0,t.SU)(ee).isNew},null,8,["modelValue","options","dense","disable"]),"other"==z.value?.value?((0,o.wg)(),(0,o.iD)("div",Z,[V,(0,o._)("div",q,[(0,o.Wm)(n,{modelValue:K.value,"onUpdate:modelValue":a[2]||(a[2]=e=>K.value=e),dense:e.dense,outlined:"",type:"text"},null,8,["modelValue","dense"]),(0,o.Wm)(u,{class:"q-ml-md",color:"primary",label:"Add Type",onClick:se})])])):(0,o.kq)("",!0),(0,o._)("div",T,[w,(0,o._)("div",C,[(0,o.Wm)(d,{modelValue:I.value,"onUpdate:modelValue":a[3]||(a[3]=e=>I.value=e),val:"male",label:"Male",disable:(0,t.SU)(ee).isNew},null,8,["modelValue","disable"]),(0,o.Wm)(d,{modelValue:I.value,"onUpdate:modelValue":a[4]||(a[4]=e=>I.value=e),val:"female",label:"Female",disable:(0,t.SU)(ee).isNew},null,8,["modelValue","disable"]),(0,o.Wm)(d,{modelValue:I.value,"onUpdate:modelValue":a[5]||(a[5]=e=>I.value=e),val:"other",label:"Don't want to Disclose",disable:(0,t.SU)(ee).isNew},null,8,["modelValue","disable"])])]),(0,o._)("div",D,[k,(0,o.Wm)(u,{color:"primary",icon:"las la-calendar",onClick:a[6]||(a[6]=e=>R.value=!0),label:E.value??"Select Date",disable:(0,t.SU)(ee).isNew},null,8,["label","disable"]),E.value?((0,o.wg)(),(0,o.j4)(u,{key:0,onClick:te,icon:"la la-times"})):(0,o.kq)("",!0)]),(0,o._)("div",W,[N,(0,o._)("form",H,[(0,o.Wm)(m,{modelValue:O.value,"onUpdate:modelValue":a[7]||(a[7]=e=>O.value=e),dense:e.dense,definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}},rules:[l=>e.required(l,"Transcription")],error:(0,t.SU)(Y).length>0,"error-message":(0,t.SU)(A)((0,t.SU)(Y),"Transcription"),disable:(0,t.SU)(ee).isNew},null,8,["modelValue","dense","rules","error","error-message","disable"])])]),Q,(0,o.Wm)(n,{type:"textarea",outlined:"",modelValue:G.value,"onUpdate:modelValue":a[8]||(a[8]=e=>G.value=e),dense:e.dense,placeholder:"Please Enter Comment",disable:(0,t.SU)(ee).isNew||"Doctor"==(0,t.SU)(X).usertype.name,class:"create-user-field-box",rules:[l=>e.required(l,"Comment")],error:(0,t.SU)(Y).length>0,"error-message":(0,t.SU)(A)((0,t.SU)(Y),"Comment")},null,8,["modelValue","dense","disable","rules","error","error-message"])]),"confirm-script"!==(0,t.SU)(l).currentRoute.value.name?((0,o.wg)(),(0,o.iD)("div",P,[(0,o.Wm)(u,{outline:"",color:"primary",label:"Cancel",onClick:re}),(0,o.Wm)(u,{color:"primary",label:"Save as Draft",class:"q-ml-md",onClick:a[9]||(a[9]=e=>le("Draft"))}),(0,o.Wm)(u,{color:"primary",label:"Save & Confirmed",class:"q-ml-md",onClick:a[10]||(a[10]=e=>le("Confirmed"))})])):((0,o.wg)(),(0,o.iD)("div",F,[(0,o.Wm)(u,{color:"primary",label:"Confirmed",class:"q-ml-md",onClick:a[11]||(a[11]=e=>ae())})]))])])),_:1}),(0,o.Wm)(v,{modelValue:R.value,"onUpdate:modelValue":a[13]||(a[13]=e=>R.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:E.value,"onUpdate:modelValue":a[12]||(a[12]=e=>E.value=e),options:oe},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(u,{label:"Submit",color:"primary"},null,512),[[f]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)}}};var E=a(8326),L=a(6611),x=a(2259),M=a(8879),Y=a(1480),A=a(8018),j=a(3706),z=a(6711),B=a(1463),I=a(8149),O=a(2146),G=a(9984),J=a.n(G);const K=R,X=K;J()(R,"components",{QForm:E.Z,QInput:L.Z,QSelect:x.Z,QBtn:M.Z,QRadio:Y.Z,QEditor:A.Z,QDialog:j.Z,QDate:z.Z,QTable:B.Z,QField:I.Z}),J()(R,"directives",{ClosePopup:O.Z})}}]);