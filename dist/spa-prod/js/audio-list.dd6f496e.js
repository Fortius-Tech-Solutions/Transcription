"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[343],{682:(l,a,e)=>{e.r(a),e.d(a,{default:()=>B});e(9665);var i=e(9835),s=e(499),o=e(6970),t=(e(826),e(4016)),n=e(8853),d=e(8339),u=e(5531),c=e(6950),r=e(9120),_=e(4170),m=e(3703),p=(e(3878),e(3129),e(1410));const v={class:"q-pa-md main-wrapper"},g={class:"datefilter_box"},f=(0,i._)("div",{class:"audio_list_head"},[(0,i._)("div",{class:"col1"},[(0,i._)("div",{class:"td_col1"},"Audio Name"),(0,i._)("div",{class:"td_col2"},"Patient Name"),(0,i._)("div",{class:"td_col3"},"Hospital Name"),(0,i._)("div",{class:"td_col4"},"Service Date")]),(0,i._)("div",{class:"col2"},"Action")],-1),w={class:"audio_list_body"},h={class:"audio_list_item"},b={class:"audio_list_col1"},k={class:"audioplayer_col"},y=(0,i._)("span",{class:"play_icon"},[(0,i._)("i",{class:"las la-play"})],-1),Z={class:"audio_info"},D={class:"audio_heading"},q={class:"audio_meta"},C={class:"audio_meta_list"},L={class:"audo_patient_name"},H=["title"],S={class:"audo_hospital_name"},U={class:"audo_service_date"},Y={class:"audio_list_action"},P={class:"text-center"},W=(0,i._)("i",{class:"las la-exclamation-triangle"},null,-1),j=(0,i._)("h5",null,"Data Not Found",-1),z={class:"row justify-center q-my-md"},A={__name:"audioList",setup(l){(0,i.RC)((()=>Promise.all([e.e(64),e.e(308)]).then(e.bind(e,4051))));const a=(0,d.tv)(),A=(0,d.yj)(),Q=((0,s.iH)(!1),(0,s.iH)([]),(0,s.iH)(!1)),V=(0,s.iH)(null),T=(0,u.b)();c.Z.show({spinner:r.Z,message:"Loading..."});const x=(0,i.Fl)((()=>T.getAudioList)),M=(0,s.iH)(null),N=(0,s.iH)(1),I=(0,s.iH)(6),E=(0,s.iH)(!0),F=(0,p.T)();function R(){const l={from_date:V.value?.from,to_date:V.value?.to,limit:I.value,page:N.value,userId:A.params.slug.split("/")[0],statusId:A.params.slug.split("/")[1]};return T.fetchAudioList(l)}function B(l,a){R().then((l=>{l.success&&l.data.data.length>0?(N.value=N.value+1,a()):(E.value=!1,a(!0))})).catch((l=>{a(!0)})).finally((()=>{c.Z.hide()}))}function K(l){T.draft=l.draft,T.data=l,m.Z.set("data",l),a.push({name:"write-script",params:{slug:l.id}})}function G(l){c.Z.show({spinner:r.Z,message:"Loading..."}),t.Z.post(t.Z.resolveApiUrl(n.jU.SAVE,{id:l.id}),{status_id:"4"}).then((a=>{x.value.forEach(((a,e,i)=>{a.id==l.id&&(a.name="Published")}))})).catch((l=>{console.log(l)})).finally((()=>{c.Z.hide()}))}async function J(l){F.pdfData=l,a.push({name:"transcription-pdf"})}function O(){c.Z.show({spinner:r.Z,message:"Loading..."}),N.value=1,E.value=!0,T.audioList=[],B()}function X(){c.Z.show({spinner:r.Z,message:"Loading..."}),V.value=null,T.audioList=[],N.value=1,E.value=!0,M.value.reset(),M.value.resume(),M.value.trigger()}return(0,d.iS)(((l,a,e)=>{console.log("leave"),T.resetList(),e()})),(l,a)=>{const e=(0,i.up)("q-btn"),t=(0,i.up)("q-card"),n=(0,i.up)("q-spinner-dots"),d=(0,i.up)("q-infinite-scroll"),u=(0,i.up)("q-date"),c=(0,i.up)("q-dialog"),r=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",v,[(0,i._)("div",g,[(0,i.Wm)(e,{color:"primary",onClick:a[0]||(a[0]=l=>Q.value=!0),label:V.value?.from?V.value.from+" to "+V.value.to:V.value??"Select Date"},null,8,["label"]),V.value?((0,i.wg)(),(0,i.j4)(e,{key:0,onClick:X,icon:"la la-times"})):(0,i.kq)("",!0)]),(0,i.Wm)(d,{onLoad:B,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:M},{loading:(0,i.w5)((()=>[(0,i._)("div",z,[(0,i.Wm)(n,{color:"primary",size:"40px"})])])),default:(0,i.w5)((()=>[0!==(0,s.SU)(x).length?((0,i.wg)(),(0,i.j4)(t,{key:0,class:"q-pa-lg"},{default:(0,i.w5)((()=>[f,(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(x),(l=>((0,i.wg)(),(0,i.iD)("div",{class:"audio_list_bg caption",key:l},[(0,i._)("div",h,[(0,i._)("div",b,[(0,i._)("div",k,[y,(0,i._)("div",Z,[(0,i._)("p",D,(0,o.zw)(l.audio_name),1),(0,i._)("div",q,[(0,i._)("ul",C,[(0,i._)("li",null,[(0,i.Uk)(" Duration: "),(0,i._)("b",null,(0,o.zw)(l.audio_duration),1)]),(0,i._)("li",null,[(0,i.Uk)(" Created at: "),(0,i._)("b",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(l.created_at,"DD-MM-YYYY")),1)])])])]),(0,i._)("div",L,[(0,i._)("p",{title:l.patient_name},[(0,i._)("b",null,(0,o.zw)(l.patient_name),1)],8,H)]),(0,i._)("div",S,[(0,i._)("p",null,(0,o.zw)(l.hospital_name),1)]),(0,i._)("div",U,[(0,i._)("p",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(l.date_of_service,"DD-MM-YYYY")),1)])])]),(0,i._)("div",Y,["Published"==l.name?((0,i.wg)(),(0,i.j4)(e,{key:0,title:"Report Download",round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:a=>J(l)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(e,{round:"",color:"blue",icon:"las la-download",title:"Audio Download",class:"q-ml-sm",padding:"sm",href:l.audio_filepath,download:""},null,8,["href"]),"Confirmed"==l.name?((0,i.wg)(),(0,i.j4)(e,{key:1,color:"green",label:"Publish",class:"q-ml-sm",onClick:a=>G(l)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(e,{round:"",color:"secondary",icon:"las la-edit",class:"q-ml-sm",padding:"sm",disable:"Pending"!==l.name,onClick:a=>K(l)},null,8,["disable","onClick"])])])])))),128))])])),_:1})):E.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(t,{key:1,class:"q-pa-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",P,[(0,i.Wm)(e,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,i.w5)((()=>[W])),_:1}),j])])),_:1}))])),_:1},512)]),(0,i.Wm)(c,{modelValue:Q.value,"onUpdate:modelValue":a[2]||(a[2]=l=>Q.value=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{modelValue:V.value,"onUpdate:modelValue":a[1]||(a[1]=l=>V.value=l),range:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(e,{label:"Submit",onClick:O,type:"submit",color:"primary"},null,512),[[r]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)}}};var Q=e(8879),V=e(6870),T=e(4458),x=e(7501),M=e(3706),N=e(6711),I=e(2146),E=e(9984),F=e.n(E);const R=A,B=R;F()(A,"components",{QBtn:Q.Z,QInfiniteScroll:V.Z,QCard:T.Z,QSpinnerDots:x.Z,QDialog:M.Z,QDate:N.Z}),F()(A,"directives",{ClosePopup:I.Z})}}]);