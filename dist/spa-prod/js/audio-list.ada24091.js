"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[343],{682:(a,l,e)=>{e.r(l),e.d(l,{default:()=>aa});e(9665);var i=e(9835),s=e(499),o=e(6970),t=(e(826),e(4016)),n=e(8853),d=e(8339),u=e(5531),c=e(6950),r=e(9120),_=e(4170),p=e(3703),m=(e(3878),e(1410)),v=e(3508);const g={class:"q-pa-md main-wrapper"},f={class:"text-right d-flex filter_search_box"},h={class:"search"},w=(0,i._)("div",{class:"audio_list_head"},[(0,i._)("div",{class:"col1"},[(0,i._)("div",{class:"td_col1"},"Audio Name"),(0,i._)("div",{class:"td_col2"},"Patient Name"),(0,i._)("div",{class:"td_col3"},"Hospital Name"),(0,i._)("div",{class:"td_col4"},"Service Date"),(0,i._)("div",{class:"td_col5"},"Created Date")]),(0,i._)("div",{class:"col2"},"Action")],-1),Z={class:"audio_list_body"},y={class:"audio_list_item"},k={class:"audio_list_col1"},b={class:"audioplayer_col"},D=(0,i._)("span",{class:"play_icon"},[(0,i._)("i",{class:"las la-play"})],-1),q={class:"audio_info"},C={class:"audio_heading"},S={class:"audio_meta"},L={class:"audio_meta_list"},Y={class:"audo_patient_name"},U=["title"],P=["title"],H={class:"audo_service_date"},W={class:"audo_created_date"},Q={class:"audio_list_action"},V={class:"text-center"},j=(0,i._)("i",{class:"las la-exclamation-triangle"},null,-1),z=(0,i._)("h5",null,"Data Not Found",-1),A={class:"row justify-center q-my-md"},x={style:{display:"none"}},M={__name:"audioList",setup(a){const l=(0,i.RC)((()=>Promise.all([e.e(64),e.e(861)]).then(e.bind(e,4051)))),M=(0,d.tv)(),T=(0,d.yj)(),F=(0,s.iH)(!1),I=(0,s.iH)(null),N=(0,u.b)();c.Z.show({spinner:r.Z,message:"Loading..."});const E=(0,i.Fl)((()=>N.getAudioList)),R=(0,s.iH)(null),$=(0,s.iH)(1),B=(0,s.iH)(null),K=(0,s.iH)(6),G=(0,s.iH)(!0),J=(0,m.T)();function O(){const a={from_date:I.value?.from,to_date:I.value?.to,limit:K.value,page:$.value,userId:T.params.slug.split("/")[0],statusId:T.params.slug.split("/")[1],q:B.value};return N.fetchAudioList(a)}function X(a,l){O().then((a=>{a.success&&a.data.data.length>0?($.value=$.value+1,l()):(G.value=!1,l(!0))})).catch((a=>{l(!0)})).finally((()=>{c.Z.hide()}))}function aa(a){N.draft=a.draft,N.data=a,p.Z.set("data",a),M.push({name:"write-script",params:{slug:a.id}})}function la(a){c.Z.show({spinner:r.Z,message:"Loading..."}),t.Z.post(t.Z.resolveApiUrl(n.jU.SAVE,{id:a.id}),{status_id:"4"}).then((l=>{E.value.forEach(((l,e,i)=>{l.id==a.id&&(l.name="Published")}))})).catch((a=>{console.log(a)})).finally((()=>{c.Z.hide()}))}const ea=(0,s.iH)(!1);async function ia(a){c.Z.show({spinner:r.Z,spinnerSize:140,spinnerColor:"primary"}),J.pdfData=a,ea.value=!0,2===a.hospital_id?setTimeout((()=>{c.Z.hide(),(0,v.$)("downloadPDF",`${a.patient_name}`)}),2e3):(M.push({name:"transcription-pdf"}),c.Z.hide())}function sa(){c.Z.show({spinner:r.Z,message:"Loading..."}),$.value=1,G.value=!0,N.audioList=[],X()}function oa(){c.Z.show({spinner:r.Z,message:"Loading..."}),I.value=null,N.audioList=[],$.value=1,G.value=!0,R.value.reset(),R.value.resume(),R.value.trigger()}function ta(){c.Z.show({spinner:r.Z,message:"Loading..."}),N.audioList=[],$.value=1,G.value=!0,R.value.reset(),R.value.resume(),R.value.trigger()}return(0,d.iS)(((a,l,e)=>{console.log("leave"),N.resetList(),e()})),(a,e)=>{const t=(0,i.up)("q-icon"),n=(0,i.up)("q-input"),d=(0,i.up)("q-btn"),u=(0,i.up)("q-card"),c=(0,i.up)("q-spinner-dots"),r=(0,i.up)("q-infinite-scroll"),p=(0,i.up)("q-date"),m=(0,i.up)("q-dialog"),v=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",g,[(0,i._)("div",f,[(0,i._)("div",h,[(0,i.Wm)(n,{modelValue:B.value,"onUpdate:modelValue":[e[0]||(e[0]=a=>B.value=a),ta],debounce:"500",outlined:"",dense:"",placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(t,{name:"search"})])),_:1},8,["modelValue"])]),(0,i._)("div",null,[(0,i.Wm)(d,{color:"primary",onClick:e[1]||(e[1]=a=>F.value=!0),label:I.value?.from?I.value.from+" to "+I.value.to:I.value??"Select Date"},null,8,["label"]),I.value?((0,i.wg)(),(0,i.j4)(d,{key:0,onClick:oa,icon:"la la-times"})):(0,i.kq)("",!0)])]),(0,i.Wm)(r,{onLoad:X,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:R},{loading:(0,i.w5)((()=>[(0,i._)("div",A,[(0,i.Wm)(c,{color:"primary",size:"40px"})])])),default:(0,i.w5)((()=>[0!==(0,s.SU)(E).length?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"q-pa-lg"},{default:(0,i.w5)((()=>[w,(0,i._)("div",Z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(E),(a=>((0,i.wg)(),(0,i.iD)("div",{class:"audio_list_bg caption",key:a},[(0,i._)("div",y,[(0,i._)("div",k,[(0,i._)("div",b,[D,(0,i._)("div",q,[(0,i._)("p",C,(0,o.zw)(a.audio_name),1),(0,i._)("div",S,[(0,i._)("ul",L,[(0,i._)("li",null,[(0,i.Uk)(" Duration: "),(0,i._)("b",null,(0,o.zw)(a.audio_duration),1)]),(0,i._)("li",null,[(0,i.Uk)(" Created at: "),(0,i._)("b",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(a.created_at,"DD-MM-YYYY")),1)])])])]),(0,i._)("div",Y,[(0,i._)("p",{title:a.patient_name},[(0,i._)("b",null,(0,o.zw)(a.patient_name),1)],8,U)]),(0,i._)("div",{class:"audo_hospital_name",title:a.hospital_name},[(0,i._)("p",null,(0,o.zw)(a.hospital_name),1)],8,P),(0,i._)("div",H,[(0,i._)("p",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(a.date_of_service,"DD-MM-YYYY")),1)]),(0,i._)("div",W,[(0,i._)("p",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(a.created_at,"DD-MM-YYYY")),1)])])]),(0,i._)("div",Q,["Published"==a.name?((0,i.wg)(),(0,i.j4)(d,{key:0,title:"Report Download",round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:l=>ia(a)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(d,{round:"",color:"blue",icon:"las la-download",title:"Audio Download",class:"q-ml-sm",padding:"sm",href:a.audio_filepath,download:""},null,8,["href"]),"Confirmed"==a.name?((0,i.wg)(),(0,i.j4)(d,{key:1,color:"green",label:"Publish",class:"q-ml-sm",onClick:l=>la(a)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(d,{round:"",color:"secondary",icon:"las la-edit",class:"q-ml-sm",padding:"sm",disable:"Pending"!==a.name,onClick:l=>aa(a)},null,8,["disable","onClick"])])])])))),128))])])),_:1})):G.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:1,class:"q-pa-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",V,[(0,i.Wm)(d,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,i.w5)((()=>[j])),_:1}),z])])),_:1}))])),_:1},512)]),(0,i.Wm)(m,{modelValue:F.value,"onUpdate:modelValue":e[3]||(e[3]=a=>F.value=a)},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:I.value,"onUpdate:modelValue":e[2]||(e[2]=a=>I.value=a),range:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(d,{label:"Submit",onClick:sa,type:"submit",color:"primary"},null,512),[[v]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),(0,i._)("div",x,[ea.value?((0,i.wg)(),(0,i.j4)((0,s.SU)(l),{key:0,id:"downloadPDF"})):(0,i.kq)("",!0)])],64)}}};var T=e(6611),F=e(2857),I=e(8879),N=e(6870),E=e(4458),R=e(7501),$=e(3706),B=e(6711),K=e(8149),G=e(2146),J=e(9984),O=e.n(J);const X=M,aa=X;O()(M,"components",{QInput:T.Z,QIcon:F.Z,QBtn:I.Z,QInfiniteScroll:N.Z,QCard:E.Z,QSpinnerDots:R.Z,QDialog:$.Z,QDate:B.Z,QField:K.Z}),O()(M,"directives",{ClosePopup:G.Z})}}]);