"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[343],{682:(a,e,l)=>{l.r(e),l.d(e,{default:()=>ia});l(9665);var i=l(9835),s=l(499),t=l(6970),o=l(4016),n=l(8853),d=l(8339),u=l(5531),c=l(6950),r=l(9120),_=l(4170),p=l(3703),m=l(1410),g=l(3508);const v={class:"q-pa-md main-wrapper"},h={class:"text-right d-flex filter_search_box"},f={class:"search"},w={class:"filter_right_box"},Z=(0,i._)("div",{class:"audio_list_head"},[(0,i._)("div",{class:"col1"},[(0,i._)("div",{class:"td_col1"},"Audio Name"),(0,i._)("div",{class:"td_col2"},"Patient Name"),(0,i._)("div",{class:"td_col3"},"Hospital Name"),(0,i._)("div",{class:"td_col4"},"Service Date"),(0,i._)("div",{class:"td_col5"},"Created Date")]),(0,i._)("div",{class:"col2"},"Action")],-1),y={class:"audio_list_body"},k={class:"audio_list_item"},b={class:"audio_list_col1"},S={class:"audio_list_no"},U={class:"audioplayer_col"},D=(0,i._)("span",{class:"play_icon"},[(0,i._)("i",{class:"las la-play"})],-1),q={class:"audio_info"},H={class:"audio_heading"},C={class:"audio_meta"},Y={class:"audio_meta_list"},L={class:"audo_patient_name"},P=["title"],V=["title"],R={class:"audo_service_date"},W={class:"audo_created_date"},Q={class:"audio_list_action"},j={class:"text-center"},z=(0,i._)("i",{class:"las la-exclamation-triangle"},null,-1),x=(0,i._)("h5",null,"Data Not Found",-1),A={class:"row justify-center q-my-md"},F={style:{display:"none"}},M={__name:"audioList",setup(a){const e=(0,i.RC)((()=>Promise.all([l.e(64),l.e(967)]).then(l.bind(l,4051)))),M=(0,d.tv)(),T=(0,d.yj)(),I=(0,s.iH)(!1),N=(0,u.b)();c.Z.show({spinner:r.Z,message:"Loading..."});const E=(0,i.Fl)((()=>N.getAudioList)),$=(0,s.iH)(null),B=(0,s.iH)(1),K=(0,s.iH)(null),G=(0,s.iH)(6),J=(0,s.iH)(!0),O=(0,m.T)(),X=(0,i.Fl)((()=>N.getWrtHospitals));function aa(){const a={from_date:N.dateRange?.from,to_date:N.dateRange?.to,limit:G.value,page:B.value,userId:T.params.slug.split("/")[0],statusId:T.params.slug.split("/")[1],hospital_id:N.selectHospital?.value,q:K.value};return N.fetchAudioList(a)}function ea(a,e){aa().then((a=>{a.success&&a.data.data.length>0?(B.value=B.value+1,e()):(J.value=!1,e(!0))})).catch((a=>{e(!0)})).finally((()=>{c.Z.hide()}))}function la(a){N.draft=a.draft,N.data=a,p.Z.set("data",a),M.push({name:"write-script",params:{slug:a.id}})}function ia(a){c.Z.show({spinner:r.Z,message:"Loading..."}),o.Z.post(o.Z.resolveApiUrl(n.jU.SAVE,{id:a.id}),{status_id:"4"}).then((e=>{E.value.forEach(((e,l,i)=>{e.id==a.id&&(e.name="Published")}))})).catch((a=>{console.log(a)})).finally((()=>{c.Z.hide()}))}const sa=(0,s.iH)(!1);async function ta(a){c.Z.show({spinner:r.Z,spinnerSize:140,spinnerColor:"primary"}),O.pdfData=a,sa.value=!0,2===a.hospital_id?setTimeout((()=>{c.Z.hide(),(0,g.$)("downloadPDF",`${a.patient_name}`)}),2e3):(M.push({name:"transcription-pdf"}),c.Z.hide())}function oa(){c.Z.show({spinner:r.Z,message:"Loading..."}),B.value=1,J.value=!0,N.audioList=[],ea()}function na(){c.Z.show({spinner:r.Z,message:"Loading..."}),N.dateRange=null,N.selectHospital=[],N.audioList=[],B.value=1,J.value=!0,$.value.reset(),$.value.resume(),$.value.trigger()}function da(){c.Z.show({spinner:r.Z,message:"Loading..."}),N.audioList=[],B.value=1,J.value=!0,$.value.reset(),$.value.resume(),$.value.trigger()}return(0,i.YP)((()=>N.selectHospital),((a,e)=>{N.selectHospital=a})),(0,d.iS)(((a,e,l)=>{N.resetList(),l()})),(a,l)=>{const o=(0,i.up)("q-icon"),n=(0,i.up)("q-input"),d=(0,i.up)("q-select"),u=(0,i.up)("q-btn"),c=(0,i.up)("q-card"),r=(0,i.up)("q-spinner-dots"),p=(0,i.up)("q-infinite-scroll"),m=(0,i.up)("q-date"),g=(0,i.up)("q-dialog"),M=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",v,[(0,i._)("div",h,[(0,i._)("div",f,[(0,i.Wm)(n,{modelValue:K.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>K.value=a),da],debounce:"500",outlined:"",dense:"",placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(o,{name:"search"})])),_:1},8,["modelValue"])]),(0,i._)("div",w,[(0,s.SU)(X).length>1?((0,i.wg)(),(0,i.j4)(d,{key:0,outlined:"",dense:"",modelValue:(0,s.SU)(N).selectHospital,"onUpdate:modelValue":[l[1]||(l[1]=a=>(0,s.SU)(N).selectHospital=a),da],label:"Select Hospital",options:(0,s.SU)(X),style:{width:"250px"}},null,8,["modelValue","options"])):(0,i.kq)("",!0),(0,i.Wm)(u,{color:"primary",onClick:l[2]||(l[2]=a=>I.value=!0),label:(0,s.SU)(N).dateRange?.from?(0,s.SU)(N).dateRange.from+" to "+(0,s.SU)(N).dateRange.to:(0,s.SU)(N).dateRange??"Select Date"},null,8,["label"]),0!=(0,s.SU)(N).selectHospital.length||(0,s.SU)(N).dateRange?((0,i.wg)(),(0,i.j4)(u,{key:1,onClick:na,icon:"la la-times"})):(0,i.kq)("",!0)])]),(0,i.Wm)(p,{onLoad:ea,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:$},{loading:(0,i.w5)((()=>[(0,i._)("div",A,[(0,i.Wm)(r,{color:"primary",size:"40px"})])])),default:(0,i.w5)((()=>[0!==(0,s.SU)(E).length?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"q-pa-lg"},{default:(0,i.w5)((()=>[Z,(0,i._)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(E),((a,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"audio_list_bg caption",key:a},[(0,i._)("div",k,[(0,i._)("div",b,[(0,i._)("span",S,(0,t.zw)(e+1),1),(0,i._)("div",U,[D,(0,i._)("div",q,[(0,i._)("p",H,(0,t.zw)(a.audio_name),1),(0,i._)("div",C,[(0,i._)("ul",Y,[(0,i._)("li",null,[(0,i.Uk)(" Duration: "),(0,i._)("b",null,(0,t.zw)(a.audio_duration),1)]),(0,i._)("li",null,[(0,i.Uk)(" Created at: "),(0,i._)("b",null,(0,t.zw)((0,s.SU)(_.ZP).formatDate(a.created_at,"DD-MM-YYYY")),1)])])])]),(0,i._)("div",L,[(0,i._)("p",{title:a.patient_name},[(0,i._)("b",null,(0,t.zw)(a.patient_name),1)],8,P)]),(0,i._)("div",{class:"audo_hospital_name",title:a.hospital_name},[(0,i._)("p",null,(0,t.zw)(a.hospital_name),1)],8,V),(0,i._)("div",R,[(0,i._)("p",null,(0,t.zw)((0,s.SU)(_.ZP).formatDate(a.date_of_service,"DD-MM-YYYY")),1)]),(0,i._)("div",W,[(0,i._)("p",null,(0,t.zw)((0,s.SU)(_.ZP).formatDate(a.created_at,"DD-MM-YYYY")),1)])])]),(0,i._)("div",Q,["Published"==a.name?((0,i.wg)(),(0,i.j4)(u,{key:0,title:"Report Download",round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:e=>ta(a)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(u,{round:"",color:"blue",icon:"las la-download",title:"Audio Download",class:"q-ml-sm",padding:"sm",href:a.audio_filepath,download:""},null,8,["href"]),"Confirmed"==a.name?((0,i.wg)(),(0,i.j4)(u,{key:1,color:"green",label:"Publish",class:"q-ml-sm",onClick:e=>ia(a)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(u,{round:"",color:"secondary",icon:"las la-edit",class:"q-ml-sm",padding:"sm",disable:"Pending"!==a.name,onClick:e=>la(a)},null,8,["disable","onClick"])])])])))),128))])])),_:1})):J.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,class:"q-pa-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",j,[(0,i.Wm)(u,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,i.w5)((()=>[z])),_:1}),x])])),_:1}))])),_:1},512)]),(0,i.Wm)(g,{modelValue:I.value,"onUpdate:modelValue":l[4]||(l[4]=a=>I.value=a)},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:(0,s.SU)(N).dateRange,"onUpdate:modelValue":l[3]||(l[3]=a=>(0,s.SU)(N).dateRange=a),range:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{label:"Submit",onClick:oa,type:"submit",color:"primary"},null,512),[[M]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),(0,i._)("div",F,[sa.value?((0,i.wg)(),(0,i.j4)((0,s.SU)(e),{key:0,id:"downloadPDF"})):(0,i.kq)("",!0)])],64)}}};var T=l(6611),I=l(2857),N=l(2259),E=l(8879),$=l(6870),B=l(4458),K=l(7501),G=l(3706),J=l(6711),O=l(8149),X=l(2146),aa=l(9984),ea=l.n(aa);const la=M,ia=la;ea()(M,"components",{QInput:T.Z,QIcon:I.Z,QSelect:N.Z,QBtn:E.Z,QInfiniteScroll:$.Z,QCard:B.Z,QSpinnerDots:K.Z,QDialog:G.Z,QDate:J.Z,QField:O.Z}),ea()(M,"directives",{ClosePopup:X.Z})}}]);