"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[630],{424:(e,l,a)=>{a.r(l),a.d(l,{default:()=>$});var o=a(9835),s=a(6970),t=a(499),r=a(826),i=a(9587),n=a(6950),u=a(9120),d=a(4170),m=a(2057),c=a(8339),p=a(5531),v=a(8853),f=a(4016),b=a(5676),g=a(6928);const _={class:"home_user_header"},h={class:"comman-title"},y={class:"q-pa-md main-wrapper"},S={class:"bg-box"},U=(0,o._)("label",{for:""}," Patient Name",-1),Z={key:0,class:"q-mt-md"},q=(0,o._)("label",{for:""},"Enter Other Type",-1),V={class:"btn_input_box"},T={class:"q-mt-lg"},w=(0,o._)("label",{for:""},"Gender",-1),C={class:"q-gutter-sm"},D={class:"q-mb-md q-mt-md"},k=(0,o._)("label",{class:"q-mr-md",for:""},"Date of Service",-1),W={class:"q-mt-lg"},N=(0,o._)("label",{for:""},"Transcription",-1),H={autocorrect:"on",autocapitalize:"off",autocomplete:"off",spellcheck:"true"},Q={class:"q-mt-lg"},P=(0,o._)("label",{for:""}," Comment",-1),F={key:0,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},R={key:1,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},E={__name:"writeScript",setup(e){const l=(0,c.tv)(),a=(0,c.yj)(),E=((0,t.iH)(""),(0,t.iH)(!1)),L=(0,t.iH)(null),x=(0,p.b)(),M=(0,g.t)(),Y=(0,b.z)(),{errors:A,serverValidationError:j}=(0,m.Z)(),z=(0,o.Fl)((()=>x.getTsTypeList));console.log(z.value);const B=(0,t.iH)(null),I=(0,t.iH)(null),O=(0,t.iH)(null),G=(0,t.iH)(null),J=(0,t.iH)(null),K=(0,t.iH)(null),X=(0,t.iH)(""),$=(0,o.Fl)((()=>M.getUser)),ee=(0,o.Fl)((()=>x.getDraftStatus));(0,o.bv)((()=>{n.Z.show({message:"Loading...",spinner:u.Z}),x.fetchTsType().finally((()=>{n.Z.hide()}))}));const le=(0,o.Fl)((()=>"confirm-script"==l.currentRoute.value.name?Y.getData:x.getData));function ae(e){n.Z.show({message:"Loading...",spinner:u.Z});const l={patient_name:I.value,gender:O.value,transcription:G.value,TSType_id:B.value.value,date_of_service:L.value,comment:J.value};"Draft"===e&&(l.draft="draft"),x.saveTranscription(l,a.params.slug).then((e=>{1==e.success?(i["default"].success(e.message?e.message:"Transcription Created Successfully !"),history.go(-1),n.Z.hide()):0==e.success&&(i["default"].error(e.message),n.Z.hide())})).finally((()=>{n.Z.hide()}))}function oe(){console.log(le.value);const e={user_id:$.value.id,hospital_id:le.value.hospital_id,status_id:"3",patient_name:I.value,comment:J.value,gender:O.value,transcription:G.value,TSType_id:B.value.value,date_of_service:L.value};f.Z.post(f.Z.resolveApiUrl(v.PZ.CONFIRM,{id:a.params.slug}),e).then((e=>{e.success&&history.go(-2)}))}function se(e){return e<=d.ZP.formatDate(Date.now(),"YYYY/MM/DD")}function te(){n.Z.show({message:"Loading...",spinner:u.Z});const e={name:X.value};f.Z.post("writer/add-ts-type",e).then((e=>{e.success&&(x.tsType=[],x.fetchTsType(),B.value="")})).finally((()=>{n.Z.hide()}))}function re(){L.value=null}function ie(){history.go(-1)}return 1==ee.value?(n.Z.show({message:"Loading...",spinner:u.Z}),f.Z.get(f.Z.resolveApiUrl(v.jU.SAVE,{id:a.params.slug})).then((e=>{console.log(e.data),1==e.success?(B.value={label:e.data[0].TSType_name??e.data[0].trascript_types.name,value:e.data[0].TSType_id??e.data[0].trascript_types.id},I.value=e.data[0].patient_name,O.value=e.data[0].gender,G.value=e.data[0].transcription,J.value=e.data[0].comment,L.value=e.data[0].date_of_service,n.Z.hide()):0==e.success&&(i["default"].error(e.message),n.Z.hide(),A.value=e.errors)})).catch((e=>{e.response&&(A.value=e.response.data.errors),console.log(e),n.Z.hide()})).finally((()=>{n.Z.hide()}))):"confirm-script"==l.currentRoute.value.name&&(I.value=le.value.patient_name,O.value=le.value.gender,G.value=le.value.transcription,J.value=le.value.comment,L.value=le.value.date_of_service,z.value.forEach((e=>{e.value==le.value.TSType_id&&(B.value=e)}))),(0,c.iS)(((e,l,a)=>{console.log("leave"),x.resetList(),Y.resetList(),a()})),(e,a)=>{const i=(0,o.up)("q-input"),n=(0,o.up)("q-select"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-radio"),m=(0,o.up)("q-editor"),c=(0,o.up)("q-form"),p=(0,o.up)("q-date"),v=(0,o.up)("q-dialog"),f=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",_,[(0,o._)("h3",h,(0,s.zw)("confirm-script"!==(0,t.SU)(l).currentRoute.value.name?"Create":"Confirm")+" Transcription ",1)]),(0,o.Wm)((0,t.SU)(r.Z),{ref_key:"audioRef",ref:K,option:{src:(0,t.SU)(le).audio_filepath,title:(0,t.SU)(le).audio_name,coverImage:"",coverRotate:"",progressBarColor:"",indicatorColor:"",autoplay:!1}},null,8,["option"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o._)("div",S,[U,(0,o.Wm)(i,{outlined:"",modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),dense:e.dense,placeholder:"Please Enter Patient Name",disable:(0,t.SU)(le).isNew,class:"create-user-field-box",rules:[l=>e.required(l,"Patient Name")],error:(0,t.SU)(A).length>0,"error-message":(0,t.SU)(j)((0,t.SU)(A),"Patient Name")},null,8,["modelValue","dense","disable","rules","error","error-message"]),(0,o.Wm)(n,{modelValue:B.value,"onUpdate:modelValue":a[1]||(a[1]=e=>B.value=e),options:(0,t.SU)(z),dense:e.dense,class:"select_drop",outlined:"","hide-bottom-space":"",label:"Select Type",disable:(0,t.SU)(le).isNew},null,8,["modelValue","options","dense","disable"]),"other"==B.value?.value?((0,o.wg)(),(0,o.iD)("div",Z,[q,(0,o._)("div",V,[(0,o.Wm)(i,{modelValue:X.value,"onUpdate:modelValue":a[2]||(a[2]=e=>X.value=e),dense:e.dense,outlined:"",type:"text"},null,8,["modelValue","dense"]),(0,o.Wm)(u,{class:"q-ml-md",color:"primary",label:"Add Type",onClick:te})])])):(0,o.kq)("",!0),(0,o._)("div",T,[w,(0,o._)("div",C,[(0,o.Wm)(d,{modelValue:O.value,"onUpdate:modelValue":a[3]||(a[3]=e=>O.value=e),val:"male",label:"Male",disable:(0,t.SU)(le).isNew},null,8,["modelValue","disable"]),(0,o.Wm)(d,{modelValue:O.value,"onUpdate:modelValue":a[4]||(a[4]=e=>O.value=e),val:"female",label:"Female",disable:(0,t.SU)(le).isNew},null,8,["modelValue","disable"]),(0,o.Wm)(d,{modelValue:O.value,"onUpdate:modelValue":a[5]||(a[5]=e=>O.value=e),val:"other",label:"Don't want to Disclose",disable:(0,t.SU)(le).isNew},null,8,["modelValue","disable"])])]),(0,o._)("div",D,[k,(0,o.Wm)(u,{color:"primary",icon:"las la-calendar",onClick:a[6]||(a[6]=e=>E.value=!0),label:L.value??"Select Date",disable:(0,t.SU)(le).isNew},null,8,["label","disable"]),L.value?((0,o.wg)(),(0,o.j4)(u,{key:0,onClick:re,icon:"la la-times"})):(0,o.kq)("",!0)]),(0,o._)("div",W,[N,(0,o._)("form",H,[(0,o.Wm)(m,{modelValue:G.value,"onUpdate:modelValue":a[7]||(a[7]=e=>G.value=e),dense:e.dense,definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}},rules:[l=>e.required(l,"Transcription")],error:(0,t.SU)(A).length>0,"error-message":(0,t.SU)(j)((0,t.SU)(A),"Transcription"),disable:(0,t.SU)(le).isNew},null,8,["modelValue","dense","rules","error","error-message","disable"])])]),(0,o._)("div",Q,[P,(0,o.Wm)(i,{type:"textarea",outlined:"",modelValue:J.value,"onUpdate:modelValue":a[8]||(a[8]=e=>J.value=e),dense:e.dense,placeholder:"Please Enter Comment",disable:(0,t.SU)(le).isNew||"Doctor"==(0,t.SU)($).usertype.name,class:"create-user-field-box",rules:[l=>e.required(l,"Comment")],error:(0,t.SU)(A).length>0,"error-message":(0,t.SU)(j)((0,t.SU)(A),"Comment")},null,8,["modelValue","dense","disable","rules","error","error-message"])])]),"confirm-script"!==(0,t.SU)(l).currentRoute.value.name?((0,o.wg)(),(0,o.iD)("div",F,[(0,o.Wm)(u,{outline:"",color:"primary",label:"Cancel",onClick:ie}),(0,o.Wm)(u,{color:"primary",label:"Save as Draft",class:"q-ml-md",onClick:a[9]||(a[9]=e=>ae("Draft"))}),(0,o.Wm)(u,{color:"primary",label:"Save & Confirmed",class:"q-ml-md",onClick:a[10]||(a[10]=e=>ae("Confirmed"))})])):((0,o.wg)(),(0,o.iD)("div",R,[(0,o.Wm)(u,{color:"primary",label:"Confirmed",class:"q-ml-md",onClick:a[11]||(a[11]=e=>oe())})]))])])),_:1}),(0,o.Wm)(v,{modelValue:E.value,"onUpdate:modelValue":a[13]||(a[13]=e=>E.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:L.value,"onUpdate:modelValue":a[12]||(a[12]=e=>L.value=e),options:se},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(u,{label:"Submit",color:"primary"},null,512),[[f]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)}}};var L=a(8326),x=a(6611),M=a(2259),Y=a(8879),A=a(1480),j=a(8018),z=a(3706),B=a(6711),I=a(1463),O=a(8149),G=a(2146),J=a(9984),K=a.n(J);const X=E,$=X;K()(E,"components",{QForm:L.Z,QInput:x.Z,QSelect:M.Z,QBtn:Y.Z,QRadio:A.Z,QEditor:j.Z,QDialog:z.Z,QDate:B.Z,QTable:I.Z,QField:O.Z}),K()(E,"directives",{ClosePopup:G.Z})}}]);