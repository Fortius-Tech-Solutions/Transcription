"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[433],{3354:(l,e,a)=>{a.r(e),a.d(e,{default:()=>$});a(9665);var n=a(9835),i=a(499),t=a(6970),s=(a(4016),a(8853),a(8339)),u=a(6950),o=a(9120),r=(a(4170),a(5676)),d=a(6928),p=(a(3878),a(1410)),c=a(3508);const m=l=>((0,n.dD)("data-v-19b3c396"),l=l(),(0,n.Cn)(),l),v={class:"q-pa-md main-wrapper"},_={class:"text-right d-flex filter_search_box"},g={class:"search"},h=["onClick"],w={class:"paient_trans_head"},f={class:"left"},k={class:"right"},y={class:"hospital_name"},Z={class:"date_time"},b=["innerHTML"],q={class:"text-center"},C=m((()=>(0,n._)("i",{class:"las la-exclamation-triangle"},null,-1))),D=m((()=>(0,n._)("h5",null,"Data Not Found",-1))),H={class:"row justify-center q-my-md"},L={style:{display:"none"}},T={__name:"confirmTranscription",setup(l){const e=(0,n.RC)((()=>Promise.all([a.e(64),a.e(967)]).then(a.bind(a,4051)))),m=(0,s.tv)(),T=(0,s.yj)(),U=(0,r.z)(),Q=(0,d.t)(),W=(0,p.T)(),S=(0,i.iH)(null),V=(0,i.iH)(1),z=(0,i.iH)(6),I=(0,i.iH)(!0),P=(0,n.Fl)((()=>U.getTranscriptionList)),j=((0,n.Fl)((()=>Q.getUser)),(0,i.iH)(!1)),x=(0,i.iH)(null),F=(0,i.iH)(null);(0,i.iH)({hospitalId:T.params.slug.split("/")[0],statusId:T.params.slug.split("/")[1]});function M(l,e){N().then((l=>{l.success&&l.data.data.length>0?(V.value=V.value+1,e()):(I.value=!1,e(!0))})).catch((l=>{e(!0)})).finally((()=>{u.Z.hide()}))}function N(){const l={...K.value,hospitalId:T.params.slug.split("/")[0],statusId:T.params.slug.split("/")[1],limit:z.value,page:V.value,q:F.value};return U.fetchTranscriptionList(l)}function R(l){l.hospital_id=T.params.slug.split("/")[0],l.isNew=1==T.params.slug.split("/")[1],U.data=l,m.push({name:"confirm-script",params:{slug:l.id}})}u.Z.show({spinner:o.Z,message:"Loading..."});const Y=(0,i.iH)(!1);async function $(l){u.Z.show({spinner:o.Z}),W.pdfData=l,Y.value=!0,2===l.hospital_id?setTimeout((()=>{u.Z.hide(),(0,c.$)("downloadPDF",`${l.patient_name}`)}),2e3):(m.push({name:"transcription-pdf"}),u.Z.hide())}function B(){A()}const K=(0,i.iH)();function A(){u.Z.show({spinner:o.Z,message:"Loading..."}),K.value={from_date:x.value?.from??x.value,to_date:x.value?.to??x.value},U.transcriptionList=[],V.value=1,I.value=!0,S.value.reset(),S.value.resume(),S.value.trigger()}function E(){u.Z.show({spinner:o.Z,message:"Loading..."}),x.value=null,K.value={},U.transcriptionList=[],V.value=1,I.value=!0,S.value.reset(),S.value.resume(),S.value.trigger()}function G(){u.Z.show({spinner:o.Z,message:"Loading..."}),U.transcriptionList=[],V.value=1,I.value=!0,S.value.reset(),S.value.resume(),S.value.trigger()}return(0,s.iS)(((l,e,a)=>{U.resetList(),a()})),(l,a)=>{const s=(0,n.up)("q-icon"),u=(0,n.up)("q-input"),o=(0,n.up)("q-btn"),r=(0,n.up)("q-chip"),d=(0,n.up)("q-card"),p=(0,n.up)("q-spinner-dots"),c=(0,n.up)("q-infinite-scroll"),m=(0,n.up)("q-date"),T=(0,n.up)("q-dialog"),U=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",v,[(0,n._)("div",_,[(0,n._)("div",g,[(0,n.Wm)(u,{modelValue:F.value,"onUpdate:modelValue":[a[0]||(a[0]=l=>F.value=l),G],debounce:"500",outlined:"",dense:"",placeholder:"Search"},{append:(0,n.w5)((()=>[(0,n.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])]),(0,n._)("div",null,[(0,n.Wm)(o,{color:"primary",onClick:a[1]||(a[1]=l=>j.value=!0),label:x.value?.from?x.value.from+" to "+x.value.to:x.value??"Select Date"},null,8,["label"]),x.value?((0,n.wg)(),(0,n.j4)(o,{key:0,onClick:E,icon:"la la-times"})):(0,n.kq)("",!0)])]),(0,n.Wm)(c,{onLoad:M,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:S},{loading:(0,n.w5)((()=>[(0,n._)("div",H,[(0,n.Wm)(p,{color:"primary",size:"40px"})])])),default:(0,n.w5)((()=>[0!==(0,i.SU)(P).length?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"q-pa-lg"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(P),(l=>((0,n.wg)(),(0,n.iD)("div",{class:"patient_trans_list_bg",key:l},[(0,n._)("div",{class:"patient_trans_list",onClick:e=>"Confirmed"==l.name||"Published"==l.name?null:R(l)},[(0,n._)("div",w,[(0,n._)("div",f,[(0,n._)("h2",null,[(0,n.Uk)((0,t.zw)(l.patient_name)+" ",1),(0,n.Wm)(r,{dense:"",color:"primary","text-color":"white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,t.zw)(l.gender),1)])),_:2},1024)]),(0,n._)("h6",null,(0,t.zw)(l.TSType_name),1)]),(0,n._)("div",k,[(0,n._)("div",y,(0,t.zw)(l.hospital_name),1),(0,n._)("ul",Z,[(0,n._)("li",null,["Published"==l.name?((0,n.wg)(),(0,n.j4)(o,{key:0,round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:e=>$(l),title:"Report Download"},null,8,["onClick"])):(0,n.kq)("",!0)]),(0,n._)("li",null,[(0,n.Wm)(r,{color:"Confirmed"==l.name||"Published"==l.name?"green":"Pending"==l.name?"red":"yellow",label:l.name},null,8,["color","label"])]),(0,n._)("li",null,[(0,n.Uk)(" Duration: "),(0,n._)("b",null,(0,t.zw)(l.audio_duration),1)]),(0,n._)("li",null,[(0,n.Uk)(" Updated at: "),(0,n._)("b",null,(0,t.zw)(l.updated_at.split("T")[0]),1)])])])]),(0,n._)("p",{class:"paient_trans_para",innerHTML:l.transcription},null,8,b)],8,h)])))),128))])),_:1})):I.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:1,class:"q-pa-lg"},{default:(0,n.w5)((()=>[(0,n._)("div",q,[(0,n.Wm)(o,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,n.w5)((()=>[C])),_:1}),D])])),_:1}))])),_:1},512),(0,n._)("div",L,[Y.value?((0,n.wg)(),(0,n.j4)((0,i.SU)(e),{key:0,id:"downloadPDF"})):(0,n.kq)("",!0)])]),(0,n.Wm)(T,{modelValue:j.value,"onUpdate:modelValue":a[3]||(a[3]=l=>j.value=l)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{modelValue:x.value,"onUpdate:modelValue":a[2]||(a[2]=l=>x.value=l),range:""},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(o,{label:"Submit",onClick:B,type:"submit",color:"primary"},null,512),[[U]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)}}};var U=a(1639),Q=a(6611),W=a(2857),S=a(8879),V=a(6870),z=a(4458),I=a(7691),P=a(7501),j=a(3706),x=a(6711),F=a(8149),M=a(2146),N=a(9984),R=a.n(N);const Y=(0,U.Z)(T,[["__scopeId","data-v-19b3c396"]]),$=Y;R()(T,"components",{QInput:Q.Z,QIcon:W.Z,QBtn:S.Z,QInfiniteScroll:V.Z,QCard:z.Z,QChip:I.Z,QSpinnerDots:P.Z,QDialog:j.Z,QDate:x.Z,QField:F.Z}),R()(T,"directives",{ClosePopup:M.Z})}}]);