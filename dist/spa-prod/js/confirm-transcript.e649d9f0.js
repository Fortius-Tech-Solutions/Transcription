"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[433],{1360:(a,e,l)=>{l.r(e),l.d(e,{default:()=>j});l(9665);var n=l(9835),t=l(499),i=l(6970),s=(l(4016),l(8853),l(8339)),o=l(6950),r=l(9120),d=l(4170),c=l(5676),u=l(6928);l(3878),l(3129);const p=a=>((0,n.dD)("data-v-01269696"),a=a(),(0,n.Cn)(),a),m={class:"q-pa-md main-wrapper"},_=["onClick"],h={class:"paient_trans_head"},f={class:"left"},w={class:"right"},g={class:"hospital_name"},v={class:"date_time"},y=["innerHTML"],b={class:"text-center"},k=p((()=>(0,n._)("i",{class:"las la-exclamation-triangle"},null,-1))),C=p((()=>(0,n._)("h5",null,"Data Not Found",-1))),T={class:"row justify-center q-my-md"},D={style:{display:"none"}},q={__name:"confirmTranscription",setup(a){const e=(0,n.RC)((()=>l.e(979).then(l.bind(l,7979)))),p=(0,t.iH)(!1),q=(0,t.iH)([]),H=(0,s.tv)(),Z=(0,s.yj)(),L=(0,c.z)(),S=(0,u.t)(),U=(0,t.iH)(null),x=(0,t.iH)(1),z=(0,t.iH)(6),I=(0,t.iH)(!0),P=(0,n.Fl)((()=>L.getTranscriptionList));(0,n.Fl)((()=>S.getUser)),(0,t.iH)({hospitalId:Z.params.slug.split("/")[0],statusId:Z.params.slug.split("/")[1]});function j(a,e){M().then((a=>{a.success&&a.data.data.length>0?(x.value=x.value+1,e()):(I.value=!1,e(!0))})).catch((a=>{e(!0)})).finally((()=>{o.Z.hide()}))}function M(){const a={hospitalId:Z.params.slug.split("/")[0],statusId:Z.params.slug.split("/")[1],limit:z.value,page:x.value};return L.fetchTranscriptionList(a)}function W(a){a.hospital_id=Z.params.slug.split("/")[0],a.isNew=1==Z.params.slug.split("/")[1],L.data=a,H.push({name:"confirm-script",params:{slug:a.id}})}async function Y(a){o.Z.show({message:"Loading...",spinner:r.Z}),p.value=!0,B(a)}async function B(a){q.value=a,setTimeout((()=>{F("downloadPDF",`${q.value.patient_name}_${d.ZP.formatDate(q.value.date_of_service,"DD-MM-YYYY")}`),o.Z.hide()}),4e3)}function F(a,e){var l="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>",n="</body></html>",t=l+document.getElementById(a).innerHTML+n,i=new Blob(["\ufeff",t],{type:"application/msword"}),s="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(t);e=e?e+".doc":"document.doc";var o=document.createElement("a");document.body.appendChild(o),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(i,e):(o.href=s,o.download=e,o.click()),document.body.removeChild(o)}return o.Z.show({spinner:r.Z,message:"Loading..."}),(0,s.iS)(((a,e,l)=>{console.log("leave"),L.resetList(),l()})),(a,l)=>{const s=(0,n.up)("q-chip"),o=(0,n.up)("q-btn"),r=(0,n.up)("q-card"),d=(0,n.up)("q-spinner-dots"),c=(0,n.up)("q-infinite-scroll");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",m,[(0,n.Wm)(c,{onLoad:j,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:U},{loading:(0,n.w5)((()=>[(0,n._)("div",T,[(0,n.Wm)(d,{color:"primary",size:"40px"})])])),default:(0,n.w5)((()=>[0!==(0,t.SU)(P).length?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"q-pa-lg"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(P),(a=>((0,n.wg)(),(0,n.iD)("div",{class:"patient_trans_list_bg",key:a},[(0,n._)("div",{class:"patient_trans_list",onClick:e=>"Confirmed"==a.name||"Published"==a.name?null:W(a)},[(0,n._)("div",h,[(0,n._)("div",f,[(0,n._)("h2",null,[(0,n.Uk)((0,i.zw)(a.patient_name)+" ",1),(0,n.Wm)(s,{dense:"",color:"primary","text-color":"white"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(a.gender),1)])),_:2},1024)]),(0,n._)("h6",null,(0,i.zw)(a.TSType_name),1)]),(0,n._)("div",w,[(0,n._)("div",g,(0,i.zw)(a.hospital_name),1),(0,n._)("ul",v,[(0,n._)("li",null,["Published"==a.name?((0,n.wg)(),(0,n.j4)(o,{key:0,round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:e=>Y(a),title:"Report Download"},null,8,["onClick"])):(0,n.kq)("",!0)]),(0,n._)("li",null,[(0,n.Wm)(s,{color:"Confirmed"==a.name||"Published"==a.name?"green":"Pending"==a.name?"red":"yellow",label:a.name},null,8,["color","label"])]),(0,n._)("li",null,[(0,n.Uk)(" Duration: "),(0,n._)("b",null,(0,i.zw)(a.audio_duration),1)]),(0,n._)("li",null,[(0,n.Uk)(" Updated at: "),(0,n._)("b",null,(0,i.zw)(a.updated_at.split("T")[0]),1)])])])]),(0,n._)("p",{class:"paient_trans_para",innerHTML:a.transcription},null,8,y)],8,_)])))),128))])),_:1})):I.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(r,{key:1,class:"q-pa-lg"},{default:(0,n.w5)((()=>[(0,n._)("div",b,[(0,n.Wm)(o,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,n.w5)((()=>[k])),_:1}),C])])),_:1}))])),_:1},512)]),(0,n._)("div",D,[p.value?((0,n.wg)(),(0,n.j4)((0,t.SU)(e),{key:0,items:q.value,id:"downloadPDF"},null,8,["items"])):(0,n.kq)("",!0)])],64)}}};var H=l(1639),Z=l(6870),L=l(4458),S=l(7691),U=l(8879),x=l(7501),z=l(9984),I=l.n(z);const P=(0,H.Z)(q,[["__scopeId","data-v-01269696"]]),j=P;I()(q,"components",{QInfiniteScroll:Z.Z,QCard:L.Z,QChip:S.Z,QBtn:U.Z,QSpinnerDots:x.Z})}}]);