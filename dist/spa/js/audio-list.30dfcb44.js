"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[343],{682:(l,a,e)=>{e.r(a),e.d(a,{default:()=>il});e(9665);var i=e(9835),s=e(499),o=e(6970),t=(e(826),e(4016)),n=e(8853),d=e(8339),u=e(5531),c=e(6950),r=e(9120),_=e(4170),p=e(3703),m=(e(3878),e(1410)),v=e(3508),g=e(4059);const h={class:"q-pa-md main-wrapper"},f={class:"text-right d-flex filter_search_box"},w={class:"search"},Z={class:"filter_right_box"},y=(0,i._)("div",{class:"audio_list_head"},[(0,i._)("div",{class:"col1"},[(0,i._)("div",{class:"td_col1"},"Audio Name"),(0,i._)("div",{class:"td_col2"},"Patient Name"),(0,i._)("div",{class:"td_col3"},"Hospital Name"),(0,i._)("div",{class:"td_col4"},"Service Date"),(0,i._)("div",{class:"td_col5"},"Created Date")]),(0,i._)("div",{class:"col2"},"Action")],-1),b={class:"audio_list_body"},k={class:"audio_list_item"},D={class:"audio_list_col1"},q={class:"audioplayer_col"},C=(0,i._)("span",{class:"play_icon"},[(0,i._)("i",{class:"las la-play"})],-1),S={class:"audio_info"},L={class:"audio_heading"},H={class:"audio_meta"},U={class:"audio_meta_list"},Y={class:"audo_patient_name"},V=["title"],P=["title"],W={class:"audo_service_date"},Q={class:"audo_created_date"},j={class:"audio_list_action"},z={class:"text-center"},x=(0,i._)("i",{class:"las la-exclamation-triangle"},null,-1),A=(0,i._)("h5",null,"Data Not Found",-1),F={class:"row justify-center q-my-md"},M={style:{display:"none"}},T={__name:"audioList",setup(l){const a=(0,i.RC)((()=>Promise.all([e.e(64),e.e(766)]).then(e.bind(e,4051)))),T=(0,d.tv)(),I=(0,d.yj)(),N=(0,s.iH)(!1),E=(0,s.iH)(null),R=(0,u.b)();c.Z.show({spinner:r.Z,message:"Loading..."});const $=(0,i.Fl)((()=>R.getAudioList)),B=(0,s.iH)(null),K=(0,s.iH)(1),G=(0,s.iH)(null),J=(0,s.iH)(null),O=(0,s.iH)(6),X=(0,s.iH)(!0),ll=(0,m.T)(),al=(0,g.L)(),el=(0,i.Fl)((()=>al.getHospitalList));function il(){const l={from_date:E.value?.from,to_date:E.value?.to,limit:O.value,page:K.value,userId:I.params.slug.split("/")[0],statusId:I.params.slug.split("/")[1],hospital_id:J.value?.value,q:G.value};return R.fetchAudioList(l)}function sl(l,a){il().then((l=>{l.success&&l.data.data.length>0?(K.value=K.value+1,a()):(X.value=!1,a(!0))})).catch((l=>{a(!0)})).finally((()=>{c.Z.hide()}))}function ol(l){R.draft=l.draft,R.data=l,p.Z.set("data",l),T.push({name:"write-script",params:{slug:l.id}})}function tl(l){c.Z.show({spinner:r.Z,message:"Loading..."}),t.Z.post(t.Z.resolveApiUrl(n.jU.SAVE,{id:l.id}),{status_id:"4"}).then((a=>{$.value.forEach(((a,e,i)=>{a.id==l.id&&(a.name="Published")}))})).catch((l=>{console.log(l)})).finally((()=>{c.Z.hide()}))}console.log(el);const nl=(0,s.iH)(!1);async function dl(l){c.Z.show({spinner:r.Z,spinnerSize:140,spinnerColor:"primary"}),ll.pdfData=l,nl.value=!0,2===l.hospital_id?setTimeout((()=>{c.Z.hide(),(0,v.$)("downloadPDF",`${l.patient_name}`)}),2e3):(T.push({name:"transcription-pdf"}),c.Z.hide())}function ul(){c.Z.show({spinner:r.Z,message:"Loading..."}),K.value=1,X.value=!0,R.audioList=[],sl()}function cl(){c.Z.show({spinner:r.Z,message:"Loading..."}),E.value=null,R.audioList=[],K.value=1,X.value=!0,B.value.reset(),B.value.resume(),B.value.trigger()}function rl(){c.Z.show({spinner:r.Z,message:"Loading..."}),R.audioList=[],K.value=1,X.value=!0,B.value.reset(),B.value.resume(),B.value.trigger()}return(0,i.bv)((()=>al.fetchHospitalList())),(0,d.iS)(((l,a,e)=>{console.log("leave"),R.resetList(),e()})),(l,e)=>{const t=(0,i.up)("q-icon"),n=(0,i.up)("q-input"),d=(0,i.up)("q-select"),u=(0,i.up)("q-btn"),c=(0,i.up)("q-card"),r=(0,i.up)("q-spinner-dots"),p=(0,i.up)("q-infinite-scroll"),m=(0,i.up)("q-date"),v=(0,i.up)("q-dialog"),g=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",h,[(0,i._)("div",f,[(0,i._)("div",w,[(0,i.Wm)(n,{modelValue:G.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>G.value=l),rl],debounce:"500",outlined:"",dense:"",placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(t,{name:"search"})])),_:1},8,["modelValue"])]),(0,i._)("div",Z,[(0,i.Wm)(d,{outlined:"",dense:"",modelValue:J.value,"onUpdate:modelValue":[e[1]||(e[1]=l=>J.value=l),rl],label:"Select Hospital",options:(0,s.SU)(el),style:{width:"250px"}},null,8,["modelValue","options"]),(0,i.Wm)(u,{color:"primary",onClick:e[2]||(e[2]=l=>N.value=!0),label:E.value?.from?E.value.from+" to "+E.value.to:E.value??"Select Date"},null,8,["label"]),E.value?((0,i.wg)(),(0,i.j4)(u,{key:0,onClick:cl,icon:"la la-times"})):(0,i.kq)("",!0)])]),(0,i.Wm)(p,{onLoad:sl,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:B},{loading:(0,i.w5)((()=>[(0,i._)("div",F,[(0,i.Wm)(r,{color:"primary",size:"40px"})])])),default:(0,i.w5)((()=>[0!==(0,s.SU)($).length?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"q-pa-lg"},{default:(0,i.w5)((()=>[y,(0,i._)("div",b,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)($),(l=>((0,i.wg)(),(0,i.iD)("div",{class:"audio_list_bg caption",key:l},[(0,i._)("div",k,[(0,i._)("div",D,[(0,i._)("div",q,[C,(0,i._)("div",S,[(0,i._)("p",L,(0,o.zw)(l.audio_name),1),(0,i._)("div",H,[(0,i._)("ul",U,[(0,i._)("li",null,[(0,i.Uk)(" Duration: "),(0,i._)("b",null,(0,o.zw)(l.audio_duration),1)]),(0,i._)("li",null,[(0,i.Uk)(" Created at: "),(0,i._)("b",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(l.created_at,"DD-MM-YYYY")),1)])])])]),(0,i._)("div",Y,[(0,i._)("p",{title:l.patient_name},[(0,i._)("b",null,(0,o.zw)(l.patient_name),1)],8,V)]),(0,i._)("div",{class:"audo_hospital_name",title:l.hospital_name},[(0,i._)("p",null,(0,o.zw)(l.hospital_name),1)],8,P),(0,i._)("div",W,[(0,i._)("p",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(l.date_of_service,"DD-MM-YYYY")),1)]),(0,i._)("div",Q,[(0,i._)("p",null,(0,o.zw)((0,s.SU)(_.ZP).formatDate(l.created_at,"DD-MM-YYYY")),1)])])]),(0,i._)("div",j,["Published"==l.name?((0,i.wg)(),(0,i.j4)(u,{key:0,title:"Report Download",round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:a=>dl(l)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(u,{round:"",color:"blue",icon:"las la-download",title:"Audio Download",class:"q-ml-sm",padding:"sm",href:l.audio_filepath,download:""},null,8,["href"]),"Confirmed"==l.name?((0,i.wg)(),(0,i.j4)(u,{key:1,color:"green",label:"Publish",class:"q-ml-sm",onClick:a=>tl(l)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(u,{round:"",color:"secondary",icon:"las la-edit",class:"q-ml-sm",padding:"sm",disable:"Pending"!==l.name,onClick:a=>ol(l)},null,8,["disable","onClick"])])])])))),128))])])),_:1})):X.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,class:"q-pa-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",z,[(0,i.Wm)(u,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,i.w5)((()=>[x])),_:1}),A])])),_:1}))])),_:1},512)]),(0,i.Wm)(v,{modelValue:N.value,"onUpdate:modelValue":e[4]||(e[4]=l=>N.value=l)},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:E.value,"onUpdate:modelValue":e[3]||(e[3]=l=>E.value=l),range:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{label:"Submit",onClick:ul,type:"submit",color:"primary"},null,512),[[g]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),(0,i._)("div",M,[nl.value?((0,i.wg)(),(0,i.j4)((0,s.SU)(a),{key:0,id:"downloadPDF"})):(0,i.kq)("",!0)])],64)}}};var I=e(6611),N=e(2857),E=e(2259),R=e(8879),$=e(6870),B=e(4458),K=e(7501),G=e(3706),J=e(6711),O=e(8149),X=e(2146),ll=e(9984),al=e.n(ll);const el=T,il=el;al()(T,"components",{QInput:I.Z,QIcon:N.Z,QSelect:E.Z,QBtn:R.Z,QInfiniteScroll:$.Z,QCard:B.Z,QSpinnerDots:K.Z,QDialog:G.Z,QDate:J.Z,QField:O.Z}),al()(T,"directives",{ClosePopup:X.Z})}}]);