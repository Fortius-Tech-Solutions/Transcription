"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[433],{1360:(a,l,n)=>{n.r(l),n.d(l,{default:()=>L});n(9665);var e=n(9835),t=n(6970),i=n(499),s=n(4016),o=n(8853),d=n(8339),c=n(6950),r=n(9120),u=n(5676),p=n(6928),m=(n(3878),n(3129)),_=n.n(m);const g=a=>((0,e.dD)("data-v-5ab353e4"),a=a(),(0,e.Cn)(),a),h={class:"q-pa-md main-wrapper"},w=["onClick"],v={class:"paient_trans_head"},f={class:"left"},k={class:"right"},y={class:"hospital_name"},b={class:"date_time"},Z={class:"paient_trans_para"},C={class:"text-center"},D=g((()=>(0,e._)("i",{class:"las la-exclamation-triangle"},null,-1))),q=g((()=>(0,e._)("h5",null,"Data Not Found",-1))),T={style:{display:"none"}},P={__name:"confirmTranscription",setup(a){const l=(0,e.RC)((()=>n.e(979).then(n.bind(n,7979)))),m=(0,i.iH)(!1),g=(0,i.iH)([]),P=(0,d.tv)(),z=(0,d.yj)(),j=(0,u.z)(),U=(0,p.t)(),H=(0,i.iH)(""),F=((0,e.Fl)((()=>U.getUser)),(0,i.iH)({hospitalId:z.params.slug.split("/")[0],statusId:z.params.slug.split("/")[1]}));function W(a){a.hospital_id=z.params.slug,j.data=a,P.push({name:"confirm-script",params:{slug:a.id}})}function I(a){c.Z.show({spinner:r.Z,message:"Loading..."}),s.Z.getWithParam(o.PZ.DOWNLOAD,{id:a}).then((a=>{a.success&&(console.log(a),m.value=!0,L(a))})).catch((a=>console.log(a))).finally((()=>c.Z.hide()))}async function L(a){g.value=a.data,setTimeout((()=>{x(document.getElementById("downloadPDF")),c.Z.hide()}),4e3)}function x(a){_()(a,{margin:0,filename:`${g.value[0].patient_name}_${Date.now()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:1,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}})}return c.Z.show({spinner:r.Z,message:"Loading..."}),j.fetchTranscriptionList(F.value).then((a=>{a.success&&(console.log(a.data.data),H.value=a.data.data)})).catch((a=>{console.log(a)})).finally((()=>c.Z.hide())),(a,n)=>{const s=(0,e.up)("q-chip"),o=(0,e.up)("q-btn"),d=(0,e.up)("q-card");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",h,[0!==H.value.length?((0,e.wg)(),(0,e.j4)(d,{key:0,class:"q-pa-lg"},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(H.value,(a=>((0,e.wg)(),(0,e.iD)("div",{class:"patient_trans_list_bg",key:a},[(0,e._)("div",{class:"patient_trans_list",onClick:l=>"Confirmed"==a.name||"Published"==a.name?null:W(a)},[(0,e._)("div",v,[(0,e._)("div",f,[(0,e._)("h2",null,[(0,e.Uk)((0,t.zw)(a.patient_name)+" ",1),(0,e.Wm)(s,{dense:"",color:"primary","text-color":"white"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,t.zw)(a.gender),1)])),_:2},1024)]),(0,e._)("h6",null,(0,t.zw)(a.TSType),1)]),(0,e._)("div",k,[(0,e._)("div",y,(0,t.zw)(a.hospital_name),1),(0,e._)("ul",b,[(0,e._)("li",null,["Published"==a.name?((0,e.wg)(),(0,e.j4)(o,{key:0,round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:l=>I(a.id)},null,8,["onClick"])):(0,e.kq)("",!0)]),(0,e._)("li",null,[(0,e.Wm)(s,{color:"Confirmed"==a.name||"Published"==a.name?"green":"Pending"==a.name?"red":"yellow",label:a.name},null,8,["color","label"])]),(0,e._)("li",null,[(0,e.Uk)(" Duration: "),(0,e._)("b",null,(0,t.zw)(a.audio_duration),1)]),(0,e._)("li",null,[(0,e.Uk)(" Updated at: "),(0,e._)("b",null,(0,t.zw)(a.updated_at.split("T")[0]),1)])])])]),(0,e._)("p",Z,(0,t.zw)(a.transcription),1)],8,w)])))),128))])),_:1})):((0,e.wg)(),(0,e.j4)(d,{key:1,class:"q-pa-lg"},{default:(0,e.w5)((()=>[(0,e._)("div",C,[(0,e.Wm)(o,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,e.w5)((()=>[D])),_:1}),q])])),_:1}))]),(0,e._)("div",T,[m.value?((0,e.wg)(),(0,e.j4)((0,i.SU)(l),{key:0,items:g.value,id:"downloadPDF"},null,8,["items"])):(0,e.kq)("",!0)])],64)}}};var z=n(1639),j=n(4458),U=n(7691),H=n(8879),F=n(9984),W=n.n(F);const I=(0,z.Z)(P,[["__scopeId","data-v-5ab353e4"]]),L=I;W()(P,"components",{QCard:j.Z,QChip:U.Z,QBtn:H.Z})}}]);