"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[750],{3476:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});s(9665);var l=s(9835),i=s(499),t=s(6950),r=s(8853),n=s(4059),o=s(1410),u=s(4577),c=s(8339);const d={class:"q-pa-md main-wrapper"},m={class:"custom-tabel-box"},p={class:"text-right q-mt-md"},g={__name:"dynamicComponents",setup(e){const a=(0,l.RC)((()=>Promise.all([s.e(736),s.e(64)]).then(s.bind(s,2742)))),g=(0,c.yj)(),h=(0,c.tv)(),v=(0,o.T)(),f=(0,u.H)(),b=(0,n.L)(),y=(0,l.Fl)((()=>v.getData));console.log(y.value);const _=(0,i.iH)([]),H=(0,i.iH)([]),w=(0,i.iH)(""),Z=(0,i.iH)(y.value.id),E=(0,i.iH)(y.value.first_name),T=(0,i.iH)(y.value.last_name),D=(0,i.iH)(y.value.email),I=(0,i.iH)(y.value.user_type_id),k=(0,i.iH)(y.value.name),q=(0,i.iH)(y.value.city),C=(0,i.iH)(y.value.address),L=(0,i.iH)([]);function S(e,a){a?e.forEach(((e,a)=>{"assign-writer"==g.params.slug?H.value=[e.id]:H.value.push(e.id)})):e.forEach((e=>{H.value.forEach(((a,s,l)=>{a==e.id&&l.splice(s,1)}))}))}function U(){if(t.Z.show({message:"Loading..."}),"assign-hospital"==g.params.slug||"assign-writer"==g.params.slug){var e={user_type_id:I.value,first_name:E.value,last_name:T.value,email:D.value};"assign-hospital"==g.params.slug&&(2==I.value?e.hospitals=H.value:4==I.value&&(e.receptionist=H.value)),"assign-writer"==g.params.slug&&(e.writer=H.value),f.updateUser(e,Z.value).then((e=>{1==e.success?(h.push({name:"user-dashboard"}),t.Z.hide()):0==e.success&&(notification.error(e.message),t.Z.hide())})).finally((()=>{t.Z.hide()}))}else if("assign-doctor"==g.params.slug||"assign-receptionist"==g.params.slug)if(3==I.value){const e={user_type_id:I.value,first_name:E.value,last_name:T.value,email:D.value};"assign-doctor"==g.params.slug&&(e.doctor=H.value),f.updateUser(e,Z.value).then((e=>{1==e.success?(h.push({name:"user-dashboard"}),t.Z.hide()):0==e.success&&(notification.error(e.message),t.Z.hide())})).finally((()=>{t.Z.hide()}))}else{const e={name:k.value,address:C.value,city:q.value};"assign-doctor"==g.params.slug?e.users=H.value:"assign-receptionist"==g.params.slug&&(e.receptionist=H.value),b.updateHospital(e,Z.value).then((e=>{1==e.success?(h.push({name:"hospital-dashboard"}),t.Z.hide()):0==e.success&&(notification.error(e.message),t.Z.hide())})).finally((()=>{t.Z.hide()}))}}return t.Z.show({message:"Loading..."}),"assign-doctor"==g.params.slug||"assign-receptionist"==g.params.slug?3==I.value?v.fetchSelected({id:y.value.id,userTypeId:y.value.user_type_id}).then((e=>{"assign-doctor"==g.params.slug&&e.data[0].WriterDoctors.forEach((e=>{_.value.push(e.doctarname)})),S(_.value,!0)})).catch((e=>{console.log(e)})).finally((()=>{t.Z.hide()})):b.fetchHospitalAssign(y.value.id).then((e=>{"assign-doctor"==g.params.slug?e.data[0].DoctorHospitals.forEach((e=>{_.value.push(e.doctarname)})):"assign-receptionist"==g.params.slug&&e.data[0].ReceptionistHospitals.forEach((e=>{_.value.push(e.receptionistname)})),S(_.value,!0)})).catch((e=>{console.log(e)})).finally((()=>{t.Z.hide()})):"assign-hospital"!=g.params.slug&&"assign-writer"!=g.params.slug||v.fetchSelected({id:y.value.id,userTypeId:y.value.user_type_id}).then((e=>{"assign-hospital"==g.params.slug?e.data[0].DoctorHospitals?e.data[0].DoctorHospitals.forEach((e=>{_.value.push(e.hospitalname)})):e.data[0].ReceptionistHospitals&&e.data[0].ReceptionistHospitals.forEach((e=>{_.value.push(e.hospitalname)})):"assign-writer"==g.params.slug?e.data[0].DoctorsWriter.forEach((e=>{_.value.push(e.writername)})):"assign-doctor"==g.params.slug&&e.data[0].WriterDoctors.forEach((e=>{_.value.push(e.doctarname)})),S(_.value,!0)})).catch((e=>{console.log(e)})).finally((()=>{t.Z.hide()})),"assign-hospital"==g.params.slug?(L.value=[{name:"id",label:"NO.",field:"index",align:"left"},{name:"Name",required:!0,label:"Name",align:"left",field:e=>e.name,format:e=>`${e}`},{name:"Address",align:"center",label:"Address",field:e=>e.address,format:e=>`${e}`},{name:"City",align:"center",label:"City",field:e=>e.city,format:e=>`${e}`}],w.value=r.Lj.LIST):"assign-doctor"!=g.params.slug&&"assign-receptionist"!=g.params.slug&&"assign-writer"!=g.params.slug||(w.value=r.xR.LIST,L.value=[{name:"id",label:"NO.",field:"index",align:"left"},{name:"Name",required:!0,label:"Name",align:"left",field:e=>e.first_name+" "+e.last_name,format:e=>`${e}`},{name:"email",align:"center",label:"Email",field:e=>e.email,format:e=>`${e}`}]),(e,s)=>{const t=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("div",m,[(0,l.Wm)((0,i.SU)(a),{ref:"userTableComponent",apiUrl:w.value,columns:L.value,rowKey:"id",title:e.$q.lang.user.table_title,createUrl:"user/create",onDelete:e.deleteItem,onEdit:e.editItem,onView:e.showItem,onLock:e.lockUser,"extra-filter":{accountStatus:e.status,group:e.userGroup},selectionType:"assign-writer"==(0,i.SU)(g).params.slug?"single":"multiple",selectedItem:_.value,onSelected:S},null,8,["apiUrl","columns","title","onDelete","onEdit","onView","onLock","extra-filter","selectionType","selectedItem"]),(0,l._)("div",p,[(0,l.Wm)(t,{color:"primary",type:"submit",label:e.$q.lang.button.submit,class:"q-ml-md",onClick:s[0]||(s[0]=e=>U())},null,8,["label"])])])])}}};var h=s(8879),v=s(9984),f=s.n(v);const b=g,y=b;f()(g,"components",{QBtn:h.Z})}}]);