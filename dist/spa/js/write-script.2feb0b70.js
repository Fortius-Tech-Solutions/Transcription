"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[630],{8457:(e,l,a)=>{a.r(l),a.d(l,{default:()=>$});var s=a(9835),o=a(6970),t=a(499),r=a(826),i=a(9587),n=a(6950),u=a(9120),d=a(4170),m=a(2057),c=a(8339),p=a(5531),v=a(8853),f=a(4016),b=a(5676),_=a(6928);const g={class:"home_user_header"},h={class:"comman-title"},y={class:"q-pa-md main-wrapper"},S={class:"bg-box"},U=(0,s._)("label",{for:""}," Patient Name",-1),Z={key:0,class:"q-mt-md"},T=(0,s._)("label",{for:""},"Enter Other Type",-1),q={class:"btn_input_box"},V={class:"q-mt-lg"},w=(0,s._)("label",{for:""},"Gender",-1),C={class:"q-gutter-sm"},D={class:"q-mb-md q-mt-md"},k=(0,s._)("label",{class:"q-mr-md",for:""},"Date of Service",-1),W={class:"q-mt-lg"},N=(0,s._)("label",{for:""},"Transcription",-1),H={autocorrect:"on",autocapitalize:"off",autocomplete:"off",spellcheck:"true"},Q={class:"q-mt-lg"},P=(0,s._)("label",{for:""}," Comment",-1),F={key:0,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},R={key:1,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},L={__name:"writeScript",setup(e){const l=(0,c.tv)(),a=(0,c.yj)(),L=((0,t.iH)(""),(0,t.iH)(!1)),x=(0,t.iH)(null),E=(0,p.b)(),M=(0,_.t)(),Y=(0,b.z)(),{errors:A,serverValidationError:j}=(0,m.Z)(),z=(0,s.Fl)((()=>E.getTsTypeList)),B=(0,s.Fl)((()=>"confirm-script"==l.currentRoute.value.name?Y.getData:E.getData)),I=(0,t.iH)(null),O=(0,t.iH)(B.value.patient_name),G=(0,t.iH)(null),J=(0,t.iH)(null),K=(0,t.iH)(null),X=(0,t.iH)(null),$=(0,t.iH)(""),ee=(0,s.Fl)((()=>M.getUser)),le=(0,s.Fl)((()=>E.getDraftStatus));function ae(e){n.Z.show({message:"Loading...",spinner:u.Z});const l={patient_name:O.value,gender:G.value,transcription:J.value,TSType_id:I.value.value,date_of_service:x.value,comment:K.value};"Draft"===e&&(l.draft="draft"),E.saveTranscription(l,a.params.slug).then((e=>{1==e.success?(i["default"].success(e.message?e.message:"Transcription Created Successfully !"),history.go(-1),n.Z.hide()):0==e.success&&(i["default"].error(e.message),n.Z.hide())})).finally((()=>{n.Z.hide()}))}function se(){const e={user_id:ee.value.id,hospital_id:B.value.hospital_id,status_id:"3",patient_name:O.value,comment:K.value,gender:G.value,transcription:J.value,TSType_id:I.value.value,date_of_service:x.value};f.Z.post(f.Z.resolveApiUrl(v.PZ.CONFIRM,{id:a.params.slug}),e).then((e=>{e.success&&history.go(-2)}))}function oe(e){return e<=d.ZP.formatDate(Date.now(),"YYYY/MM/DD")}function te(){n.Z.show({message:"Loading...",spinner:u.Z});const e={name:$.value};f.Z.post("writer/add-ts-type",e).then((e=>{e.success&&(E.tsType=[],E.fetchTsType(),I.value="")})).finally((()=>{n.Z.hide()}))}function re(){x.value=null}function ie(){history.go(-1)}return(0,s.bv)((()=>{n.Z.show({message:"Loading...",spinner:u.Z}),E.fetchTsType().finally((()=>{n.Z.hide()}))})),1==le.value?(n.Z.show({message:"Loading...",spinner:u.Z}),f.Z.get(f.Z.resolveApiUrl(v.jU.SAVE,{id:a.params.slug})).then((e=>{1==e.success?(I.value={label:e.data[0].TSType_name??e.data[0].trascript_types.name,value:e.data[0].TSType_id??e.data[0].trascript_types.id},O.value=e.data[0].patient_name,G.value=e.data[0].gender,J.value=e.data[0].transcription,K.value=e.data[0].comment,x.value=e.data[0].date_of_service,n.Z.hide()):0==e.success&&(i["default"].error(e.message),n.Z.hide(),A.value=e.errors)})).catch((e=>{e.response&&(A.value=e.response.data.errors),console.log(e),n.Z.hide()})).finally((()=>{n.Z.hide()}))):"confirm-script"==l.currentRoute.value.name&&(O.value=B.value.patient_name,G.value=B.value.gender,J.value=B.value.transcription,K.value=B.value.comment,x.value=B.value.date_of_service,I.value={label:B.value.TSType_name,value:B.value.TSType_id}),(0,c.iS)(((e,l,a)=>{E.resetList(),Y.resetList(),a()})),(e,a)=>{const i=(0,s.up)("q-input"),n=(0,s.up)("q-select"),u=(0,s.up)("q-btn"),d=(0,s.up)("q-radio"),m=(0,s.up)("q-editor"),c=(0,s.up)("q-form"),p=(0,s.up)("q-date"),v=(0,s.up)("q-dialog"),f=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",g,[(0,s._)("h3",h,(0,o.zw)("confirm-script"!==(0,t.SU)(l).currentRoute.value.name?"Create":"Confirm")+" Transcription ",1)]),(0,s.Wm)((0,t.SU)(r.Z),{ref_key:"audioRef",ref:X,option:{src:(0,t.SU)(B).audio_filepath,title:(0,t.SU)(B).audio_name,coverImage:"",coverRotate:"",progressBarColor:"",indicatorColor:"",autoplay:!1}},null,8,["option"]),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s._)("div",S,[U,(0,s.Wm)(i,{outlined:"",modelValue:O.value,"onUpdate:modelValue":a[0]||(a[0]=e=>O.value=e),dense:e.dense,placeholder:"Please Enter Patient Name",disable:(0,t.SU)(B).isNew,class:"create-user-field-box",rules:[l=>e.required(l,"Patient Name")],error:(0,t.SU)(A).length>0,"error-message":(0,t.SU)(j)((0,t.SU)(A),"Patient Name")},null,8,["modelValue","dense","disable","rules","error","error-message"]),(0,s.Wm)(n,{modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),options:(0,t.SU)(z),dense:e.dense,class:"select_drop",outlined:"","hide-bottom-space":"",label:"Select Type",disable:(0,t.SU)(B).isNew},null,8,["modelValue","options","dense","disable"]),"other"==I.value?.value?((0,s.wg)(),(0,s.iD)("div",Z,[T,(0,s._)("div",q,[(0,s.Wm)(i,{modelValue:$.value,"onUpdate:modelValue":a[2]||(a[2]=e=>$.value=e),dense:e.dense,outlined:"",type:"text"},null,8,["modelValue","dense"]),(0,s.Wm)(u,{class:"q-ml-md",color:"primary",label:"Add Type",onClick:te})])])):(0,s.kq)("",!0),(0,s._)("div",V,[w,(0,s._)("div",C,[(0,s.Wm)(d,{modelValue:G.value,"onUpdate:modelValue":a[3]||(a[3]=e=>G.value=e),val:"male",label:"Male",disable:(0,t.SU)(B).isNew},null,8,["modelValue","disable"]),(0,s.Wm)(d,{modelValue:G.value,"onUpdate:modelValue":a[4]||(a[4]=e=>G.value=e),val:"female",label:"Female",disable:(0,t.SU)(B).isNew},null,8,["modelValue","disable"]),(0,s.Wm)(d,{modelValue:G.value,"onUpdate:modelValue":a[5]||(a[5]=e=>G.value=e),val:"other",label:"Don't want to Disclose",disable:(0,t.SU)(B).isNew},null,8,["modelValue","disable"])])]),(0,s._)("div",D,[k,(0,s.Wm)(u,{color:"primary",icon:"las la-calendar",onClick:a[6]||(a[6]=e=>L.value=!0),label:x.value??"Select Date",disable:(0,t.SU)(B).isNew},null,8,["label","disable"]),x.value?((0,s.wg)(),(0,s.j4)(u,{key:0,onClick:re,icon:"la la-times"})):(0,s.kq)("",!0)]),(0,s._)("div",W,[N,(0,s._)("form",H,[(0,s.Wm)(m,{modelValue:J.value,"onUpdate:modelValue":a[7]||(a[7]=e=>J.value=e),dense:e.dense,definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}},rules:[l=>e.required(l,"Transcription")],error:(0,t.SU)(A).length>0,"error-message":(0,t.SU)(j)((0,t.SU)(A),"Transcription"),disable:(0,t.SU)(B).isNew},null,8,["modelValue","dense","rules","error","error-message","disable"])])]),(0,s._)("div",Q,[P,(0,s.Wm)(i,{type:"textarea",outlined:"",modelValue:K.value,"onUpdate:modelValue":a[8]||(a[8]=e=>K.value=e),dense:e.dense,placeholder:"Please Enter Comment",disable:(0,t.SU)(B).isNew||"Doctor"==(0,t.SU)(ee).usertype.name,class:"create-user-field-box",rules:[l=>e.required(l,"Comment")],error:(0,t.SU)(A).length>0,"error-message":(0,t.SU)(j)((0,t.SU)(A),"Comment")},null,8,["modelValue","dense","disable","rules","error","error-message"])])]),"confirm-script"!==(0,t.SU)(l).currentRoute.value.name?((0,s.wg)(),(0,s.iD)("div",F,[(0,s.Wm)(u,{outline:"",color:"primary",label:"Cancel",onClick:ie}),(0,s.Wm)(u,{color:"primary",label:"Save as Draft",class:"q-ml-md",onClick:a[9]||(a[9]=e=>ae("Draft"))}),(0,s.Wm)(u,{color:"primary",label:"Save & Confirmed",class:"q-ml-md",onClick:a[10]||(a[10]=e=>ae("Confirmed"))})])):((0,s.wg)(),(0,s.iD)("div",R,[(0,s.Wm)(u,{color:"primary",label:"Confirmed",class:"q-ml-md",onClick:a[11]||(a[11]=e=>se())})]))])])),_:1}),(0,s.Wm)(v,{modelValue:L.value,"onUpdate:modelValue":a[13]||(a[13]=e=>L.value=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{modelValue:x.value,"onUpdate:modelValue":a[12]||(a[12]=e=>x.value=e),options:oe},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(u,{label:"Submit",color:"primary"},null,512),[[f]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)}}};var x=a(8326),E=a(6611),M=a(2259),Y=a(8879),A=a(1480),j=a(8018),z=a(3706),B=a(6711),I=a(1463),O=a(8149),G=a(2146),J=a(9984),K=a.n(J);const X=L,$=X;K()(L,"components",{QForm:x.Z,QInput:E.Z,QSelect:M.Z,QBtn:Y.Z,QRadio:A.Z,QEditor:j.Z,QDialog:z.Z,QDate:B.Z,QTable:I.Z,QField:O.Z}),K()(L,"directives",{ClosePopup:G.Z})}}]);