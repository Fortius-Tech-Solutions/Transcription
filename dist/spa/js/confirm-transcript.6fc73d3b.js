"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[433],{1360:(a,n,l)=>{l.r(n),l.d(n,{default:()=>L});l(9665);var e=l(9835),i=l(6970),t=l(499),s=l(4016),o=l(8853),d=l(8339),c=l(6950),r=l(9120),u=l(5676),p=l(6928),_=(l(3878),l(3129)),m=l.n(_);const g=a=>((0,e.dD)("data-v-007f8dfa"),a=a(),(0,e.Cn)(),a),h={class:"q-pa-md main-wrapper"},w=["onClick"],f={class:"paient_trans_head"},v={class:"left"},k={class:"right"},y={class:"date_time"},b={class:"paient_trans_para"},Z={class:"text-center"},C=g((()=>(0,e._)("i",{class:"las la-exclamation-triangle"},null,-1))),D=g((()=>(0,e._)("h5",null,"Data Not Found",-1))),q={style:{display:"none"}},T={__name:"confirmTranscription",setup(a){const n=(0,e.RC)((()=>l.e(979).then(l.bind(l,7979)))),_=(0,t.iH)(!1),g=(0,t.iH)([]),T=(0,d.tv)(),P=(0,d.yj)(),j=(0,u.z)(),z=(0,p.t)(),U=(0,t.iH)(""),H=(0,e.Fl)((()=>z.getUser)),F=(0,t.iH)({user_id:H.value.id});function W(a){a.hospital_id=P.params.slug,j.data=a,T.push({name:"confirm-script",params:{slug:a.id}})}function L(a){c.Z.show({spinner:r.Z,message:"Loading..."}),s.Z.getWithParam(o.PZ.DOWNLOAD,{id:a}).then((a=>{a.success&&(console.log(a),_.value=!0,x(a))})).catch((a=>console.log(a))).finally((()=>c.Z.hide()))}async function x(a){g.value=a.data,setTimeout((()=>{Q(document.getElementById("downloadPDF")),c.Z.hide()}),4e3)}function Q(a){m()(a,{margin:0,filename:`${g.value[0].patient_name}_${Date.now()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:1,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}})}return c.Z.show({spinner:r.Z,message:"Loading..."}),j.fetchTranscriptionList(F.value).then((a=>{a.success&&(console.log(a.data.data),U.value=a.data.data)})).catch((a=>{console.log(a)})).finally((()=>c.Z.hide())),(a,l)=>{const s=(0,e.up)("q-chip"),o=(0,e.up)("q-btn"),d=(0,e.up)("q-card");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",h,[0!==U.value.length?((0,e.wg)(),(0,e.j4)(d,{key:0,class:"q-pa-lg"},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(U.value,(a=>((0,e.wg)(),(0,e.iD)("div",{class:"patient_trans_list_bg",key:a},[(0,e._)("div",{class:"patient_trans_list",onClick:n=>"Confirmed"==a.name||"Published"==a.name?null:W(a)},[(0,e._)("div",f,[(0,e._)("div",v,[(0,e._)("h2",null,[(0,e.Uk)((0,i.zw)(a.patient_name)+" ",1),(0,e.Wm)(s,{dense:"",color:"primary","text-color":"white"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,i.zw)(a.gender),1)])),_:2},1024)]),(0,e._)("h6",null,(0,i.zw)(a.TSType),1)]),(0,e._)("div",k,[(0,e._)("ul",y,[(0,e._)("li",null,["Published"==a.name?((0,e.wg)(),(0,e.j4)(o,{key:0,round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:n=>L(a.id)},null,8,["onClick"])):(0,e.kq)("",!0)]),(0,e._)("li",null,[(0,e.Wm)(s,{color:"Confirmed"==a.name||"Published"==a.name?"green":"Pending"==a.name?"red":"yellow",label:a.name},null,8,["color","label"])]),(0,e._)("li",null,[(0,e.Uk)(" Duration: "),(0,e._)("b",null,(0,i.zw)(a.audio_duration),1)]),(0,e._)("li",null,[(0,e.Uk)(" Updated at: "),(0,e._)("b",null,(0,i.zw)(a.updated_at.split("T")[0]),1)])])])]),(0,e._)("p",b,(0,i.zw)(a.transcription),1)],8,w)])))),128))])),_:1})):((0,e.wg)(),(0,e.j4)(d,{key:1,class:"q-pa-lg"},{default:(0,e.w5)((()=>[(0,e._)("div",Z,[(0,e.Wm)(o,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,e.w5)((()=>[C])),_:1}),D])])),_:1}))]),(0,e._)("div",q,[_.value?((0,e.wg)(),(0,e.j4)((0,t.SU)(n),{key:0,items:g.value,id:"downloadPDF"},null,8,["items"])):(0,e.kq)("",!0)])],64)}}};var P=l(1639),j=l(4458),z=l(7691),U=l(8879),H=l(9984),F=l.n(H);const W=(0,P.Z)(T,[["__scopeId","data-v-007f8dfa"]]),L=W;F()(T,"components",{QCard:j.Z,QChip:z.Z,QBtn:U.Z})}}]);