"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[630],{424:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var r=l(9835),o=l(6970),n=l(499),s=l(826),t=l(9587),i=l(6950),u=l(9120),m=l(2057),d=l(8339),c=l(5531),p=l(8853),v=l(4016),g=l(5676),f=l(6928);const h={class:"home_user_header"},b={class:"comman-title"},_={class:"q-pa-md main-wrapper"},U={class:"bg-box"},S=(0,r._)("label",{for:""}," Patient Name",-1),Z={class:"q-mt-lg"},y=(0,r._)("label",{for:""},"Gender",-1),q={class:"q-gutter-sm"},V={class:"q-mt-lg"},C=(0,r._)("label",{for:""},"Transcription",-1),T={key:0,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},R={key:1,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},w={__name:"writeScript",setup(e){const a=(0,d.tv)(),l=(0,d.yj)(),w=(0,c.b)(),W=(0,f.t)(),k=(0,g.z)(),{errors:D,serverValidationError:F}=(0,m.Z)(),P=(0,n.iH)(["operation","child neurology","opd"]),Q=(0,n.iH)(null),H=(0,n.iH)(null),N=(0,n.iH)(null),E=(0,n.iH)(null),j=(0,r.Fl)((()=>W.getUser)),x=(0,r.Fl)((()=>w.getDraftStatus)),A=(0,r.Fl)((()=>"confirm-script"==a.currentRoute.value.name?k.getData:w.getData));function I(e){i.Z.show({message:"Loading...",spinner:u.Z});const a={patient_name:H.value,gender:N.value,transcription:E.value,TSType:Q.value};"Draft"===e&&(a.draft="draft"),w.saveTranscription(a,l.params.slug).then((e=>{1==e.success?(t["default"].success(e.message?e.message:"Transcription Created Successfully !"),history.go(-1),i.Z.hide()):0==e.success&&(t["default"].error(e.message),i.Z.hide())})).finally((()=>{i.Z.hide()}))}function z(){const e={user_id:j.value.id,hospital_id:A.value.hospital_id,status_id:"3"};v.Z.post(v.Z.resolveApiUrl(p.PZ.CONFIRM,{id:l.params.slug}),e).then((e=>{e.success&&history.go(-1)}))}function B(){history.go(-1)}return 1==x.value?(i.Z.show({message:"Loading...",spinner:u.Z}),v.Z.get(v.Z.resolveApiUrl(p.jU.SAVE,{id:l.params.slug})).then((e=>{1==e.success?(Q.value=e.data[0].ts_type,H.value=e.data[0].patient_name,N.value=e.data[0].gender,E.value=e.data[0].transcription,i.Z.hide()):0==e.success&&(t["default"].error(e.message),i.Z.hide(),D.value=e.errors)})).catch((e=>{e.response&&(D.value=e.response.data.errors),console.log(e),i.Z.hide()})).finally((()=>{i.Z.hide()}))):"confirm-script"==a.currentRoute.value.name&&(Q.value=A.value.TSType,H.value=A.value.patient_name,N.value=A.value.gender,E.value=A.value.transcription),(e,l)=>{const t=(0,r.up)("q-input"),i=(0,r.up)("q-select"),u=(0,r.up)("q-radio"),m=(0,r.up)("q-btn"),d=(0,r.up)("q-form");return(0,r.wg)(),(0,r.j4)(d,null,{default:(0,r.w5)((()=>[(0,r._)("div",h,[(0,r._)("h3",b,(0,o.zw)("confirm-script"!==(0,n.SU)(a).currentRoute.value.name?"Create":"Confirm")+" Transcription ",1)]),(0,r.Wm)((0,n.SU)(s.Z),{option:{src:(0,n.SU)(A).audio_filepath,title:(0,n.SU)(A).audio_name,coverImage:"",coverRotate:"",progressBarColor:"",indicatorColor:""}},null,8,["option"]),(0,r._)("div",_,[(0,r._)("div",U,[S,(0,r.Wm)(t,{outlined:"",modelValue:H.value,"onUpdate:modelValue":l[0]||(l[0]=e=>H.value=e),dense:e.dense,placeholder:"Please Enter Patient Name",class:"create-user-field-box",rules:[a=>e.required(a,"Patient Name")],error:(0,n.SU)(D).length>0,"error-message":(0,n.SU)(F)((0,n.SU)(D),"Patient Name"),readonly:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","dense","rules","error","error-message","readonly"]),(0,r.Wm)(i,{modelValue:Q.value,"onUpdate:modelValue":l[1]||(l[1]=e=>Q.value=e),options:P.value,dense:e.dense,class:"q-ml-sm q-mr-sm",outlined:"","hide-bottom-space":"",readonly:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","options","dense","readonly"]),(0,r._)("div",Z,[y,(0,r._)("div",q,[(0,r.Wm)(u,{modelValue:N.value,"onUpdate:modelValue":l[2]||(l[2]=e=>N.value=e),val:"male",label:"Male",disable:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","disable"]),(0,r.Wm)(u,{modelValue:N.value,"onUpdate:modelValue":l[3]||(l[3]=e=>N.value=e),val:"female",label:"Female",disable:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","disable"]),(0,r.Wm)(u,{modelValue:N.value,"onUpdate:modelValue":l[4]||(l[4]=e=>N.value=e),val:"other",label:"Don't want to Disclose",disable:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","disable"])])]),(0,r._)("div",V,[C,(0,r.Wm)(t,{type:"textarea",readonly:"confirm-script"==(0,n.SU)(a).currentRoute.value.name,outlined:"",modelValue:E.value,"onUpdate:modelValue":l[5]||(l[5]=e=>E.value=e),dense:e.dense,placeholder:"Please Enter Transcription",rules:[a=>e.required(a,"Transcription")],error:(0,n.SU)(D).length>0,"error-message":(0,n.SU)(F)((0,n.SU)(D),"Transcription")},null,8,["readonly","modelValue","dense","rules","error","error-message"])])]),"confirm-script"!==(0,n.SU)(a).currentRoute.value.name?((0,r.wg)(),(0,r.iD)("div",T,[(0,r.Wm)(m,{outline:"",color:"primary",label:"Cancel",onClick:B}),(0,r.Wm)(m,{color:"primary",label:"Save as Draft",class:"q-ml-md",onClick:l[6]||(l[6]=e=>I("Draft"))}),(0,r.Wm)(m,{color:"primary",label:"Save & Confirmed",class:"q-ml-md",onClick:l[7]||(l[7]=e=>I("Confirmed"))})])):((0,r.wg)(),(0,r.iD)("div",R,[(0,r.Wm)(m,{color:"primary",label:"Confirmed",class:"q-ml-md",onClick:l[8]||(l[8]=e=>z())})]))])])),_:1})}}};var W=l(8326),k=l(6611),D=l(2517),F=l(1480),P=l(4455),Q=l(7580),H=l(8149),N=l(9984),E=l.n(N);const j=w,x=j;E()(w,"components",{QForm:W.Z,QInput:k.Z,QSelect:D.Z,QRadio:F.Z,QBtn:P.Z,QTable:Q.Z,QField:H.Z})}}]);