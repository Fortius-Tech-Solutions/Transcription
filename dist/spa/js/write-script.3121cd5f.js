"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[630],{424:(e,a,l)=>{l.r(a),l.d(a,{default:()=>B});var r=l(9835),o=l(6970),n=l(499),t=l(826),s=l(9587),i=l(6950),u=l(9120),d=l(2057),m=l(8339),c=l(5531),p=l(8853),v=l(4016),f=l(5676),g=l(6928);const b={class:"home_user_header"},h={class:"comman-title"},_={class:"q-pa-md main-wrapper"},U={class:"bg-box"},S=(0,r._)("label",{for:""}," Patient Name",-1),Z={class:"q-mt-lg"},y=(0,r._)("label",{for:""},"Gender",-1),q={class:"q-gutter-sm"},V={class:"q-mt-lg"},C=(0,r._)("label",{for:""},"Transcription",-1),T={key:0,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},R={key:1,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},w={__name:"writeScript",setup(e){const a=(0,m.tv)(),l=(0,m.yj)(),w=(0,c.b)(),W=(0,g.t)(),k=(0,f.z)(),{errors:D,serverValidationError:Q}=(0,d.Z)(),F=(0,n.iH)(["operation","child neurology","opd"]),P=(0,n.iH)(null),H=(0,n.iH)(null),N=(0,n.iH)(null),E=(0,n.iH)(null),j=(0,r.Fl)((()=>W.getUser)),A=(0,r.Fl)((()=>w.getDraftStatus)),B=(0,r.Fl)((()=>"confirm-script"==a.currentRoute.value.name?k.getData:w.getData));function I(e){i.Z.show({message:"Loading...",spinner:u.Z});const a={patient_name:H.value,gender:N.value,transcription:E.value,TSType:P.value};"Draft"===e&&(a.draft="draft"),w.saveTranscription(a,l.params.slug).then((e=>{1==e.success?(s["default"].success(e.message?e.message:"Transcription Created Successfully !"),history.go(-1),i.Z.hide()):0==e.success&&(s["default"].error(e.message),i.Z.hide())})).finally((()=>{i.Z.hide()}))}function M(){const e={user_id:j.value.id,hospital_id:B.value.hospital_id,status_id:"3"};v.Z.post(v.Z.resolveApiUrl(p.PZ.CONFIRM,{id:l.params.slug}),e).then((e=>{e.success&&history.go(-1)}))}function x(){history.go(-1)}return 1==A.value?(i.Z.show({message:"Loading...",spinner:u.Z}),v.Z.get(v.Z.resolveApiUrl(p.jU.SAVE,{id:l.params.slug})).then((e=>{1==e.success?(P.value=e.data[0].ts_type,H.value=e.data[0].patient_name,N.value=e.data[0].gender,E.value=e.data[0].transcription,i.Z.hide()):0==e.success&&(s["default"].error(e.message),i.Z.hide(),D.value=e.errors)})).catch((e=>{e.response&&(D.value=e.response.data.errors),console.log(e),i.Z.hide()})).finally((()=>{i.Z.hide()}))):"confirm-script"==a.currentRoute.value.name&&(P.value=B.value.TSType,H.value=B.value.patient_name,N.value=B.value.gender,E.value=B.value.transcription),(e,l)=>{const s=(0,r.up)("q-input"),i=(0,r.up)("q-select"),u=(0,r.up)("q-radio"),d=(0,r.up)("q-editor"),m=(0,r.up)("q-btn"),c=(0,r.up)("q-form");return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[(0,r._)("div",b,[(0,r._)("h3",h,(0,o.zw)("confirm-script"!==(0,n.SU)(a).currentRoute.value.name?"Create":"Confirm")+" Transcription ",1)]),(0,r.Wm)((0,n.SU)(t.Z),{option:{src:(0,n.SU)(B).audio_filepath,title:(0,n.SU)(B).audio_name,coverImage:"",coverRotate:"",progressBarColor:"",indicatorColor:""}},null,8,["option"]),(0,r._)("div",_,[(0,r._)("div",U,[S,(0,r.Wm)(s,{outlined:"",modelValue:H.value,"onUpdate:modelValue":l[0]||(l[0]=e=>H.value=e),dense:e.dense,placeholder:"Please Enter Patient Name",class:"create-user-field-box",rules:[a=>e.required(a,"Patient Name")],error:(0,n.SU)(D).length>0,"error-message":(0,n.SU)(Q)((0,n.SU)(D),"Patient Name"),readonly:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","dense","rules","error","error-message","readonly"]),(0,r.Wm)(i,{modelValue:P.value,"onUpdate:modelValue":l[1]||(l[1]=e=>P.value=e),options:F.value,dense:e.dense,class:"",outlined:"","hide-bottom-space":"",readonly:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","options","dense","readonly"]),(0,r._)("div",Z,[y,(0,r._)("div",q,[(0,r.Wm)(u,{modelValue:N.value,"onUpdate:modelValue":l[2]||(l[2]=e=>N.value=e),val:"male",label:"Male",disable:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","disable"]),(0,r.Wm)(u,{modelValue:N.value,"onUpdate:modelValue":l[3]||(l[3]=e=>N.value=e),val:"female",label:"Female",disable:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","disable"]),(0,r.Wm)(u,{modelValue:N.value,"onUpdate:modelValue":l[4]||(l[4]=e=>N.value=e),val:"other",label:"Don't want to Disclose",disable:"confirm-script"==(0,n.SU)(a).currentRoute.value.name},null,8,["modelValue","disable"])])]),(0,r._)("div",V,[C,(0,r.Wm)(d,{modelValue:E.value,"onUpdate:modelValue":l[5]||(l[5]=e=>E.value=e),dense:e.dense,readonly:"confirm-script"==(0,n.SU)(a).currentRoute.value.name,definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}},rules:[a=>e.required(a,"Transcription")],error:(0,n.SU)(D).length>0,"error-message":(0,n.SU)(Q)((0,n.SU)(D),"Transcription")},null,8,["modelValue","dense","readonly","rules","error","error-message"])])]),"confirm-script"!==(0,n.SU)(a).currentRoute.value.name?((0,r.wg)(),(0,r.iD)("div",T,[(0,r.Wm)(m,{outline:"",color:"primary",label:"Cancel",onClick:x}),(0,r.Wm)(m,{color:"primary",label:"Save as Draft",class:"q-ml-md",onClick:l[6]||(l[6]=e=>I("Draft"))}),(0,r.Wm)(m,{color:"primary",label:"Save & Confirmed",class:"q-ml-md",onClick:l[7]||(l[7]=e=>I("Confirmed"))})])):((0,r.wg)(),(0,r.iD)("div",R,[(0,r.Wm)(m,{color:"primary",label:"Confirmed",class:"q-ml-md",onClick:l[8]||(l[8]=e=>M())})]))])])),_:1})}}};var W=l(8326),k=l(6611),D=l(2259),Q=l(1480),F=l(3478),P=l(8879),H=l(1463),N=l(8149),E=l(9984),j=l.n(E);const A=w,B=A;j()(w,"components",{QForm:W.Z,QInput:k.Z,QSelect:D.Z,QRadio:Q.Z,QEditor:F.Z,QBtn:P.Z,QTable:H.Z,QField:N.Z})}}]);