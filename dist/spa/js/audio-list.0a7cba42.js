"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[343],{8147:(a,l,n)=>{n.r(l),n.d(l,{default:()=>F});n(9665);var e=n(9835),i=n(6970),s=n(499),o=(n(826),n(4016)),t=n(8853),d=n(8339),c=n(5531),u=n(6950),r=n(9120),m=(n(3878),n(3129)),_=n.n(m);const g={class:"q-pa-md main-wrapper"},p={class:"audio_list_item"},h={class:"audio_list_col1"},w={class:"audioplayer_col"},v=(0,e._)("span",{class:"play_icon"},[(0,e._)("i",{class:"las la-play"})],-1),f={class:"audio_info"},y={class:"audio_heading"},k={class:"audio_meta"},b={class:"audio_meta_list"},Z={class:"audio_list_action"},C={class:"text-center"},q=(0,e._)("i",{class:"las la-exclamation-triangle"},null,-1),D=(0,e._)("h5",null,"Data Not Found",-1),P={style:{display:"none"}},j={__name:"audioList",setup(a){const l=(0,e.RC)((()=>n.e(979).then(n.bind(n,7979)))),m=(0,d.tv)(),j=(0,d.yj)(),H=(0,s.iH)(!1),L=(0,s.iH)([]),T=(0,c.b)();console.log(j.params.slug),u.Z.show({spinner:r.Z,message:"Loading..."});const U=(0,s.iH)([]);function W(a){T.draft=a.draft,T.data=a,m.push({name:"write-script",params:{slug:a.id}})}function A(a){u.Z.show({spinner:r.Z,message:"Loading..."}),o.Z.post(o.Z.resolveApiUrl(t.jU.SAVE,{id:a.id}),{status_id:"4"}).then((l=>{console.log(l),U.value.forEach(((l,n,e)=>{l.id==a.id&&(l.name="Published")}))})).catch((a=>{console.log(a)})).finally((()=>{u.Z.hide()}))}function F(a){u.Z.show({spinner:r.Z,message:"Loading..."}),o.Z.getWithParam(t.PZ.DOWNLOAD,{id:a}).then((a=>{a.success&&(console.log(a),H.value=!0,z(a))})).catch((a=>console.log(a))).finally((()=>u.Z.hide()))}async function z(a){L.value=a.data,setTimeout((()=>{E(document.getElementById("downloadPDF")),u.Z.hide()}),4e3)}function E(a){_()(a,{margin:0,filename:`${L.value[0].patient_name}_${Date.now()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:1,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}})}return T.fetchAudioList({user_id:j.params.slug}).then((a=>{U.value=a.data.data})).catch((a=>{console.log(a)})).finally((()=>{u.Z.hide()})),(a,n)=>{const o=(0,e.up)("q-btn"),t=(0,e.up)("q-chip"),d=(0,e.up)("q-card");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",g,[0!==U.value.length?((0,e.wg)(),(0,e.j4)(d,{key:0,class:"q-pa-lg"},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(U.value,(l=>((0,e.wg)(),(0,e.iD)("div",{class:"audio_list_bg",key:l},[(0,e._)("div",p,[(0,e._)("div",h,[(0,e._)("div",w,[v,(0,e._)("div",f,[(0,e._)("p",y,(0,i.zw)(l.audio_name),1),(0,e._)("div",k,[(0,e._)("ul",b,[(0,e._)("li",null,[(0,e.Uk)(" Duration: "),(0,e._)("b",null,(0,i.zw)(l.audio_duration),1)]),(0,e._)("li",null,[(0,e.Uk)(" Created at: "),(0,e._)("b",null,(0,i.zw)(a.getHumanReadable(l.created_at)),1)])])])])])]),(0,e._)("div",Z,["Published"==l.name?((0,e.wg)(),(0,e.j4)(o,{key:0,round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:a=>F(l.id)},null,8,["onClick"])):(0,e.kq)("",!0),"Confirmed"==l.name?((0,e.wg)(),(0,e.j4)(o,{key:1,color:"green",label:"Publish",class:"q-ml-sm",onClick:a=>A(l)},null,8,["onClick"])):(0,e.kq)("",!0),(0,e.Wm)(t,{color:"Confirmed"==l.name||"Published"==l.name?"green":"Pending"==l.name?"red":"yellow",label:l.name},null,8,["color","label"]),(0,e.Wm)(o,{round:"",color:"secondary",icon:"las la-edit",class:"q-ml-sm",padding:"sm",disable:"Pending"!==l.name,onClick:a=>W(l)},null,8,["disable","onClick"])])])])))),128))])),_:1})):((0,e.wg)(),(0,e.j4)(d,{key:1,class:"q-pa-lg"},{default:(0,e.w5)((()=>[(0,e._)("div",C,[(0,e.Wm)(o,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,e.w5)((()=>[q])),_:1}),D])])),_:1}))]),(0,e._)("div",P,[H.value?((0,e.wg)(),(0,e.j4)((0,s.SU)(l),{key:0,items:L.value,id:"downloadPDF"},null,8,["items"])):(0,e.kq)("",!0)])],64)}}};var H=n(4458),L=n(8879),T=n(7691),U=n(9984),W=n.n(U);const A=j,F=A;W()(j,"components",{QCard:H.Z,QBtn:L.Z,QChip:T.Z})}}]);