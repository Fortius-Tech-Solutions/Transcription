"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[433],{1360:(a,n,e)=>{e.r(n),e.d(n,{default:()=>H});e(9665);var l=e(9835),i=e(6970),t=e(499),s=e(4016),o=e(8853),d=e(8339),r=e(6950),c=e(9120),u=e(5676),p=e(6928),m=(e(3878),e(3129)),_=e.n(m);const g={class:"q-pa-md main-wrapper"},h=["onClick"],w={class:"paient_trans_head"},v={class:"left"},f={class:"right"},k={class:"date_time"},y={class:"paient_trans_para"},b={style:{display:"none"}},Z={__name:"confirmTranscription",setup(a){const n=(0,l.RC)((()=>e.e(979).then(e.bind(e,7979)))),m=(0,t.iH)(!1),Z=(0,t.iH)([]),C=(0,d.tv)(),D=(0,d.yj)(),T=(0,u.z)(),q=(0,p.t)(),P=(0,t.iH)(""),z=(0,l.Fl)((()=>q.getUser)),U=(0,t.iH)({user_id:z.value.id});function H(a){a.hospital_id=D.params.slug,T.data=a,C.push({name:"confirm-script",params:{slug:a.id}})}function j(a){r.Z.show({spinner:c.Z,message:"Loading..."}),s.Z.getWithParam(o.PZ.DOWNLOAD,{id:a}).then((a=>{a.success&&(console.log(a),m.value=!0,W(a))})).catch((a=>console.log(a))).finally((()=>r.Z.hide()))}async function W(a){Z.value=a.data,setTimeout((()=>{F(document.getElementById("downloadPDF")),r.Z.hide()}),4e3)}function F(a){_()(a,{margin:0,filename:`${Z.value[0].patient_name}_${Date.now()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:1,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}})}return r.Z.show({spinner:c.Z,message:"Loading..."}),T.fetchTranscriptionList(U.value).then((a=>{a.success&&(console.log(a.data.data),P.value=a.data.data)})).catch((a=>{console.log(a)})).finally((()=>r.Z.hide())),(a,e)=>{const s=(0,l.up)("q-chip"),o=(0,l.up)("q-btn"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",g,[(0,l.Wm)(d,{class:"q-pa-lg"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(P.value,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"patient_trans_list_bg",key:a},[(0,l._)("div",{class:"patient_trans_list",onClick:n=>"Confirmed"==a.name||"Published"==a.name?null:H(a)},[(0,l._)("div",w,[(0,l._)("div",v,[(0,l._)("h2",null,[(0,l.Uk)((0,i.zw)(a.patient_name)+" ",1),(0,l.Wm)(s,{dense:"",color:"primary","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(a.gender),1)])),_:2},1024)]),(0,l._)("h6",null,(0,i.zw)(a.TSType),1)]),(0,l._)("div",f,[(0,l._)("ul",k,[(0,l._)("li",null,["Published"==a.name?((0,l.wg)(),(0,l.j4)(o,{key:0,round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:n=>j(a.id)},null,8,["onClick"])):(0,l.kq)("",!0)]),(0,l._)("li",null,[(0,l.Wm)(s,{color:"Confirmed"==a.name||"Published"==a.name?"green":"Pending"==a.name?"red":"yellow",label:a.name},null,8,["color","label"])]),(0,l._)("li",null,[(0,l.Uk)(" Duration: "),(0,l._)("b",null,(0,i.zw)(a.audio_duration),1)]),(0,l._)("li",null,[(0,l.Uk)(" Updated at: "),(0,l._)("b",null,(0,i.zw)(a.updated_at.split("T")[0]),1)])])])]),(0,l._)("p",y,(0,i.zw)(a.transcription),1)],8,h)])))),128))])),_:1})]),(0,l._)("div",b,[m.value?((0,l.wg)(),(0,l.j4)((0,t.SU)(n),{key:0,items:Z.value,id:"downloadPDF"},null,8,["items"])):(0,l.kq)("",!0)])],64)}}};var C=e(1639),D=e(4458),T=e(7691),q=e(4455),P=e(9984),z=e.n(P);const U=(0,C.Z)(Z,[["__scopeId","data-v-3d5886fd"]]),H=U;z()(Z,"components",{QCard:D.Z,QChip:T.Z,QBtn:q.Z})}}]);