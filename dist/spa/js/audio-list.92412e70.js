"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[343],{682:(a,e,l)=>{l.r(e),l.d(e,{default:()=>la});l(9665);var i=l(9835),t=l(499),s=l(6970),o=l(4016),n=l(8853),d=l(8339),u=l(5531),c=l(6950),r=l(9120),_=l(4170),p=l(3703),m=l(1410),g=l(3508);const v={class:"q-pa-md main-wrapper"},h={class:"text-right d-flex filter_search_box"},f={class:"search"},w={class:"filter_right_box"},Z=(0,i._)("div",{class:"audio_list_head"},[(0,i._)("div",{class:"col1"},[(0,i._)("div",{class:"td_col1"},"Audio Name"),(0,i._)("div",{class:"td_col2"},"Patient Name"),(0,i._)("div",{class:"td_col3"},"Hospital Name"),(0,i._)("div",{class:"td_col4"},"Service Date"),(0,i._)("div",{class:"td_col5"},"Created Date")]),(0,i._)("div",{class:"col2"},"Action")],-1),y={class:"audio_list_body"},k={class:"audio_list_item"},b={class:"audio_list_col1"},S={class:"audioplayer_col"},U=(0,i._)("span",{class:"play_icon"},[(0,i._)("i",{class:"las la-play"})],-1),D={class:"audio_info"},q={class:"audio_heading"},H={class:"audio_meta"},C={class:"audio_meta_list"},Y={class:"audo_patient_name"},L=["title"],P=["title"],V={class:"audo_service_date"},R={class:"audo_created_date"},W={class:"audio_list_action"},Q={class:"text-center"},j=(0,i._)("i",{class:"las la-exclamation-triangle"},null,-1),z=(0,i._)("h5",null,"Data Not Found",-1),x={class:"row justify-center q-my-md"},A={style:{display:"none"}},F={__name:"audioList",setup(a){const e=(0,i.RC)((()=>Promise.all([l.e(64),l.e(338)]).then(l.bind(l,4051)))),F=(0,d.tv)(),M=(0,d.yj)(),T=(0,t.iH)(!1),I=(0,u.b)();c.Z.show({spinner:r.Z,message:"Loading..."});const N=(0,i.Fl)((()=>I.getAudioList)),E=(0,t.iH)(null),$=(0,t.iH)(1),B=(0,t.iH)(null),K=(0,t.iH)(6),G=(0,t.iH)(!0),J=(0,m.T)(),O=(0,i.Fl)((()=>I.getWrtHospitals));function X(){const a={from_date:I.dateRange?.from,to_date:I.dateRange?.to,limit:K.value,page:$.value,userId:M.params.slug.split("/")[0],statusId:M.params.slug.split("/")[1],hospital_id:I.selectHospital?.value,q:B.value};return I.fetchAudioList(a)}function aa(a,e){X().then((a=>{a.success&&a.data.data.length>0?($.value=$.value+1,e()):(G.value=!1,e(!0))})).catch((a=>{e(!0)})).finally((()=>{c.Z.hide()}))}function ea(a){I.draft=a.draft,I.data=a,p.Z.set("data",a),F.push({name:"write-script",params:{slug:a.id}})}function la(a){c.Z.show({spinner:r.Z,message:"Loading..."}),o.Z.post(o.Z.resolveApiUrl(n.jU.SAVE,{id:a.id}),{status_id:"4"}).then((e=>{N.value.forEach(((e,l,i)=>{e.id==a.id&&(e.name="Published")}))})).catch((a=>{console.log(a)})).finally((()=>{c.Z.hide()}))}const ia=(0,t.iH)(!1);async function ta(a){c.Z.show({spinner:r.Z,spinnerSize:140,spinnerColor:"primary"}),J.pdfData=a,ia.value=!0,2===a.hospital_id?setTimeout((()=>{c.Z.hide(),(0,g.$)("downloadPDF",`${a.patient_name}`)}),2e3):(F.push({name:"transcription-pdf"}),c.Z.hide())}function sa(){c.Z.show({spinner:r.Z,message:"Loading..."}),$.value=1,G.value=!0,I.audioList=[],aa()}function oa(){c.Z.show({spinner:r.Z,message:"Loading..."}),I.dateRange=null,I.selectHospital=[],I.audioList=[],$.value=1,G.value=!0,E.value.reset(),E.value.resume(),E.value.trigger()}function na(){c.Z.show({spinner:r.Z,message:"Loading..."}),I.audioList=[],$.value=1,G.value=!0,E.value.reset(),E.value.resume(),E.value.trigger()}return(0,i.YP)((()=>I.selectHospital),((a,e)=>{I.selectHospital=a})),(0,d.iS)(((a,e,l)=>{I.resetList(),l()})),(a,l)=>{const o=(0,i.up)("q-icon"),n=(0,i.up)("q-input"),d=(0,i.up)("q-select"),u=(0,i.up)("q-btn"),c=(0,i.up)("q-card"),r=(0,i.up)("q-spinner-dots"),p=(0,i.up)("q-infinite-scroll"),m=(0,i.up)("q-date"),g=(0,i.up)("q-dialog"),F=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",v,[(0,i._)("div",h,[(0,i._)("div",f,[(0,i.Wm)(n,{modelValue:B.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>B.value=a),na],debounce:"500",outlined:"",dense:"",placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(o,{name:"search"})])),_:1},8,["modelValue"])]),(0,i._)("div",w,[(0,t.SU)(O).length>1?((0,i.wg)(),(0,i.j4)(d,{key:0,outlined:"",dense:"",modelValue:(0,t.SU)(I).selectHospital,"onUpdate:modelValue":[l[1]||(l[1]=a=>(0,t.SU)(I).selectHospital=a),na],label:"Select Hospital",options:(0,t.SU)(O),style:{width:"250px"}},null,8,["modelValue","options"])):(0,i.kq)("",!0),(0,i.Wm)(u,{color:"primary",onClick:l[2]||(l[2]=a=>T.value=!0),label:(0,t.SU)(I).dateRange?.from?(0,t.SU)(I).dateRange.from+" to "+(0,t.SU)(I).dateRange.to:(0,t.SU)(I).dateRange??"Select Date"},null,8,["label"]),0!=(0,t.SU)(I).selectHospital.length||(0,t.SU)(I).dateRange?((0,i.wg)(),(0,i.j4)(u,{key:1,onClick:oa,icon:"la la-times"})):(0,i.kq)("",!0)])]),(0,i.Wm)(p,{onLoad:aa,offset:250,"scroll-target":"body",ref_key:"scrollList",ref:E},{loading:(0,i.w5)((()=>[(0,i._)("div",x,[(0,i.Wm)(r,{color:"primary",size:"40px"})])])),default:(0,i.w5)((()=>[0!==(0,t.SU)(N).length?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"q-pa-lg"},{default:(0,i.w5)((()=>[Z,(0,i._)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,t.SU)(N),(a=>((0,i.wg)(),(0,i.iD)("div",{class:"audio_list_bg caption",key:a},[(0,i._)("div",k,[(0,i._)("div",b,[(0,i._)("div",S,[U,(0,i._)("div",D,[(0,i._)("p",q,(0,s.zw)(a.audio_name),1),(0,i._)("div",H,[(0,i._)("ul",C,[(0,i._)("li",null,[(0,i.Uk)(" Duration: "),(0,i._)("b",null,(0,s.zw)(a.audio_duration),1)]),(0,i._)("li",null,[(0,i.Uk)(" Created at: "),(0,i._)("b",null,(0,s.zw)((0,t.SU)(_.ZP).formatDate(a.created_at,"DD-MM-YYYY")),1)])])])]),(0,i._)("div",Y,[(0,i._)("p",{title:a.patient_name},[(0,i._)("b",null,(0,s.zw)(a.patient_name),1)],8,L)]),(0,i._)("div",{class:"audo_hospital_name",title:a.hospital_name},[(0,i._)("p",null,(0,s.zw)(a.hospital_name),1)],8,P),(0,i._)("div",V,[(0,i._)("p",null,(0,s.zw)((0,t.SU)(_.ZP).formatDate(a.date_of_service,"DD-MM-YYYY")),1)]),(0,i._)("div",R,[(0,i._)("p",null,(0,s.zw)((0,t.SU)(_.ZP).formatDate(a.created_at,"DD-MM-YYYY")),1)])])]),(0,i._)("div",W,["Published"==a.name?((0,i.wg)(),(0,i.j4)(u,{key:0,title:"Report Download",round:"",color:"primary",icon:"las la-download",class:"q-ml-sm",padding:"sm",onClick:e=>ta(a)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(u,{round:"",color:"blue",icon:"las la-download",title:"Audio Download",class:"q-ml-sm",padding:"sm",href:a.audio_filepath,download:""},null,8,["href"]),"Confirmed"==a.name?((0,i.wg)(),(0,i.j4)(u,{key:1,color:"green",label:"Publish",class:"q-ml-sm",onClick:e=>la(a)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(u,{round:"",color:"secondary",icon:"las la-edit",class:"q-ml-sm",padding:"sm",disable:"Pending"!==a.name,onClick:e=>ea(a)},null,8,["disable","onClick"])])])])))),128))])])),_:1})):G.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,class:"q-pa-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",Q,[(0,i.Wm)(u,{class:"not_found_icon",outline:"",color:"primary"},{default:(0,i.w5)((()=>[j])),_:1}),z])])),_:1}))])),_:1},512)]),(0,i.Wm)(g,{modelValue:T.value,"onUpdate:modelValue":l[4]||(l[4]=a=>T.value=a)},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:(0,t.SU)(I).dateRange,"onUpdate:modelValue":l[3]||(l[3]=a=>(0,t.SU)(I).dateRange=a),range:""},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(u,{label:"Submit",onClick:sa,type:"submit",color:"primary"},null,512),[[F]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),(0,i._)("div",A,[ia.value?((0,i.wg)(),(0,i.j4)((0,t.SU)(e),{key:0,id:"downloadPDF"})):(0,i.kq)("",!0)])],64)}}};var M=l(6611),T=l(2857),I=l(2259),N=l(8879),E=l(6870),$=l(4458),B=l(7501),K=l(3706),G=l(6711),J=l(8149),O=l(2146),X=l(9984),aa=l.n(X);const ea=F,la=ea;aa()(F,"components",{QInput:M.Z,QIcon:T.Z,QSelect:I.Z,QBtn:N.Z,QInfiniteScroll:E.Z,QCard:$.Z,QSpinnerDots:B.Z,QDialog:K.Z,QDate:G.Z,QField:J.Z}),aa()(F,"directives",{ClosePopup:O.Z})}}]);