"use strict";(globalThis["webpackChunkTranscription"]=globalThis["webpackChunkTranscription"]||[]).push([[630],{8457:(e,l,a)=>{a.r(l),a.d(l,{default:()=>oe});a(9665);var o=a(9835),t=a(6970),s=a(499),r=a(826),i=a(9587),n=a(6950),u=a(9120),d=a(4170),m=a(2057),c=a(8339),p=a(5531),v=a(8853),f=a(4016),b=a(5676),_=a(6928),g=a(1410);const h={class:"home_user_header"},y={class:"comman-title"},S={class:"q-pa-md main-wrapper"},U={class:"bg-box"},Z=(0,o._)("label",{for:""}," Patient Name",-1),T={key:0,class:"q-mt-md"},V=(0,o._)("label",{for:""},"Enter Other Type",-1),q={class:"btn_input_box"},w={class:"q-mt-lg"},C=(0,o._)("label",{for:""},"Gender",-1),D={class:"q-gutter-sm"},k={class:"q-mb-md q-mt-md"},W=(0,o._)("label",{class:"q-mr-md",for:""},"Date of Service",-1),N={class:"q-mt-lg"},H=(0,o._)("label",{for:""},"Transcription",-1),Q={autocorrect:"on",autocapitalize:"off",autocomplete:"off",spellcheck:"true"},P={class:"q-mt-lg"},F=(0,o._)("label",{for:""},"Extra Transcription",-1),R={autocorrect:"on",autocapitalize:"off",autocomplete:"off",spellcheck:"true"},x={class:"q-mt-lg"},E=(0,o._)("label",{for:""}," Comment",-1),L={key:0,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},M={key:1,class:"form_comon_btn q-mt-md q-mr-md q-mb-md"},Y={__name:"writeScript",setup(e){const l=(0,c.tv)(),a=(0,c.yj)(),Y=((0,s.iH)(""),(0,s.iH)(!1)),z=(0,s.iH)(null),A=(0,p.b)(),B=(0,_.t)(),j=(0,b.z)(),{errors:I,serverValidationError:O}=(0,m.Z)(),G=(0,o.Fl)((()=>A.getTsTypeList)),J=(0,o.Fl)((()=>"confirm-script"==l.currentRoute.value.name?j.getData:A.getData)),K=(0,s.iH)(null),X=(0,s.iH)(J.value.patient_name),$=(0,s.iH)(null),ee=(0,s.iH)(null),le=(0,s.iH)(null),ae=(0,s.iH)(null),oe=(0,s.iH)(null),te=(0,s.iH)(""),se=(0,o.Fl)((()=>B.getUser)),re=(0,o.Fl)((()=>A.getDraftStatus));function ie(){f.Z.get(f.Z.resolveApiUrl(v.jU.SAVE,{id:a.params.slug})).then((e=>{1==e.success?(K.value={label:e.data[0].TSType_name??e.data[0].trascript_types.name,value:e.data[0].TSType_id??e.data[0].trascript_types.id},X.value=e.data[0].patient_name,$.value=e.data[0].gender,ee.value=e.data[0].transcription,le.value=e.data[0].cc_mail,ae.value=e.data[0].comment,z.value=e.data[0].date_of_service,n.Z.hide()):0==e.success&&(i["default"].error(e.message),n.Z.hide(),I.value=e.errors)})).catch((e=>{e.response&&(I.value=e.response.data.errors),console.log(e),n.Z.hide()})).finally((()=>{n.Z.hide()}))}function ne(e){n.Z.show({message:"Loading...",spinner:u.Z});const l={patient_name:X.value,gender:$.value,transcription:ee.value,cc_mail:le.value,TSType_id:K?.value?.value,date_of_service:z.value,comment:ae.value};"Draft"===e&&(l.draft="draft"),A.saveTranscription(l,a.params.slug).then((e=>{1==e.success?(i["default"].success(e.message?e.message:"Transcription Created Successfully !"),history.go(-1),n.Z.hide()):0==e.success&&(i["default"].error(e.message),n.Z.hide())})).finally((()=>{n.Z.hide()}))}(0,o.bv)((()=>{n.Z.show({message:"Loading...",spinner:u.Z}),A.fetchTsType().finally((()=>{n.Z.hide()}))})),1==re.value?(n.Z.show({message:"Loading...",spinner:u.Z}),ie()):"confirm-script"==l.currentRoute.value.name&&(X.value=J.value.patient_name,$.value=J.value.gender,ee.value=J.value.transcription,le.value=J.value.cc_mail,ae.value=J.value.comment,z.value=J.value.date_of_service,K.value={label:J.value.TSType_name,value:J.value.TSType_id});const ue=(0,g.T)();function de(){ue.pdfData=J.value,l.push({name:"transcription-pdf"})}function me(){const e={user_id:se.value.id,hospital_id:J.value.hospital_id,status_id:"3",patient_name:X.value,comment:ae.value,gender:$.value,transcription:ee.value,cc_mail:le.value,TSType_id:K.value.value,date_of_service:z.value};f.Z.post(f.Z.resolveApiUrl(v.PZ.CONFIRM,{id:a.params.slug}),e).then((e=>{e.success&&history.go(-2)}))}function ce(e){return e<=d.ZP.formatDate(Date.now(),"YYYY/MM/DD")}function pe(){n.Z.show({message:"Loading...",spinner:u.Z});const e={name:te.value};f.Z.post("writer/add-ts-type",e).then((e=>{e.success&&(A.tsType=[],A.fetchTsType(),K.value="")})).finally((()=>{n.Z.hide()}))}function ve(){z.value=null}function fe(){history.go(-1)}return(0,c.iS)(((e,l,a)=>{A.resetList(),j.resetList(),a()})),(e,a)=>{const i=(0,o.up)("q-input"),n=(0,o.up)("q-select"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-radio"),m=(0,o.up)("q-editor"),c=(0,o.up)("q-form"),p=(0,o.up)("q-date"),v=(0,o.up)("q-dialog"),f=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",h,[(0,o._)("h3",y,(0,t.zw)("confirm-script"!==(0,s.SU)(l).currentRoute.value.name?"Create":"Confirm")+" Transcription ",1)]),(0,o.Wm)((0,s.SU)(r.Z),{ref_key:"audioRef",ref:oe,option:{src:(0,s.SU)(J).audio_filepath,title:(0,s.SU)(J).audio_name,coverImage:"",coverRotate:"",progressBarColor:"",indicatorColor:"",autoplay:!1}},null,8,["option"]),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",S,[(0,o._)("div",U,[Z,(0,o.Wm)(i,{outlined:"",modelValue:X.value,"onUpdate:modelValue":a[0]||(a[0]=e=>X.value=e),dense:e.dense,placeholder:"Please Enter Patient Name",disable:(0,s.SU)(J).isNew,class:"create-user-field-box",rules:[l=>e.required(l,"Patient Name")],error:(0,s.SU)(I).length>0,"error-message":(0,s.SU)(O)((0,s.SU)(I),"Patient Name")},null,8,["modelValue","dense","disable","rules","error","error-message"]),(0,o.Wm)(n,{modelValue:K.value,"onUpdate:modelValue":a[1]||(a[1]=e=>K.value=e),options:(0,s.SU)(G),dense:e.dense,class:"select_drop",outlined:"","hide-bottom-space":"",label:"Select Type",disable:(0,s.SU)(J).isNew},null,8,["modelValue","options","dense","disable"]),"other"==K.value?.value?((0,o.wg)(),(0,o.iD)("div",T,[V,(0,o._)("div",q,[(0,o.Wm)(i,{modelValue:te.value,"onUpdate:modelValue":a[2]||(a[2]=e=>te.value=e),dense:e.dense,outlined:"",type:"text"},null,8,["modelValue","dense"]),(0,o.Wm)(u,{class:"q-ml-md",color:"primary",label:"Add Type",onClick:pe})])])):(0,o.kq)("",!0),(0,o._)("div",w,[C,(0,o._)("div",D,[(0,o.Wm)(d,{modelValue:$.value,"onUpdate:modelValue":a[3]||(a[3]=e=>$.value=e),val:"male",label:"Male",disable:(0,s.SU)(J).isNew},null,8,["modelValue","disable"]),(0,o.Wm)(d,{modelValue:$.value,"onUpdate:modelValue":a[4]||(a[4]=e=>$.value=e),val:"female",label:"Female",disable:(0,s.SU)(J).isNew},null,8,["modelValue","disable"]),(0,o.Wm)(d,{modelValue:$.value,"onUpdate:modelValue":a[5]||(a[5]=e=>$.value=e),val:"other",label:"Don't want to Disclose",disable:(0,s.SU)(J).isNew},null,8,["modelValue","disable"])])]),(0,o._)("div",k,[W,(0,o.Wm)(u,{color:"primary",icon:"las la-calendar",onClick:a[6]||(a[6]=e=>Y.value=!0),label:z.value??"Select Date",disable:(0,s.SU)(J).isNew},null,8,["label","disable"]),z.value?((0,o.wg)(),(0,o.j4)(u,{key:0,onClick:ve,icon:"la la-times"})):(0,o.kq)("",!0)]),(0,o._)("div",N,[H,(0,o._)("form",Q,[(0,o.Wm)(m,{modelValue:ee.value,"onUpdate:modelValue":a[7]||(a[7]=e=>ee.value=e),dense:e.dense,definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}},rules:[l=>e.required(l,"Transcription")],error:(0,s.SU)(I).length>0,"error-message":(0,s.SU)(O)((0,s.SU)(I),"Transcription"),disable:(0,s.SU)(J).isNew},null,8,["modelValue","dense","rules","error","error-message","disable"])])]),(0,o._)("div",P,[F,(0,o._)("form",R,[(0,o.Wm)(m,{modelValue:le.value,"onUpdate:modelValue":a[8]||(a[8]=e=>le.value=e),dense:e.dense,definitions:{bold:{label:"Bold",icon:null,tip:"My bold tooltip"}},disable:(0,s.SU)(J).isNew},null,8,["modelValue","dense","disable"])])]),(0,o._)("div",x,[E,(0,o.Wm)(i,{type:"textarea",outlined:"",modelValue:ae.value,"onUpdate:modelValue":a[9]||(a[9]=e=>ae.value=e),dense:e.dense,placeholder:"Please Enter Comment",disable:(0,s.SU)(J).isNew||"Doctor"==(0,s.SU)(se).usertype.name,class:"create-user-field-box",rules:[l=>e.required(l,"Comment")],error:(0,s.SU)(I).length>0,"error-message":(0,s.SU)(O)((0,s.SU)(I),"Comment")},null,8,["modelValue","dense","disable","rules","error","error-message"])])]),"confirm-script"!==(0,s.SU)(l).currentRoute.value.name?((0,o.wg)(),(0,o.iD)("div",L,[(0,o.Wm)(u,{outline:"",color:"primary",label:"Cancel",onClick:fe}),(0,o.Wm)(u,{outline:"",color:"primary",class:"q-ml-md",label:"Preview",onClick:de}),(0,o.Wm)(u,{color:"primary",label:"Save as Draft",class:"q-ml-md",onClick:a[10]||(a[10]=e=>ne("Draft"))}),(0,o.Wm)(u,{color:"primary",label:"Save & Confirmed",class:"q-ml-md",onClick:a[11]||(a[11]=e=>ne("Confirmed"))})])):((0,o.wg)(),(0,o.iD)("div",M,[(0,o.Wm)(u,{color:"primary",label:"Confirmed",class:"q-ml-md",onClick:a[12]||(a[12]=e=>me())})]))])])),_:1}),(0,o.Wm)(v,{modelValue:Y.value,"onUpdate:modelValue":a[14]||(a[14]=e=>Y.value=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:z.value,"onUpdate:modelValue":a[13]||(a[13]=e=>z.value=e),options:ce},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(u,{label:"Submit",color:"primary"},null,512),[[f]])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])],64)}}};var z=a(8326),A=a(6611),B=a(2259),j=a(8879),I=a(1480),O=a(8018),G=a(3706),J=a(6711),K=a(1463),X=a(8149),$=a(2146),ee=a(9984),le=a.n(ee);const ae=Y,oe=ae;le()(Y,"components",{QForm:z.Z,QInput:A.Z,QSelect:B.Z,QBtn:j.Z,QRadio:I.Z,QEditor:O.Z,QDialog:G.Z,QDate:J.Z,QTable:K.Z,QField:X.Z}),le()(Y,"directives",{ClosePopup:$.Z})}}]);